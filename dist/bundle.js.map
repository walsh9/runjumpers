{"version":3,"sources":["webpack:///webpack/bootstrap 86e6e56328335b70506a","webpack:///./game.js","webpack:///./graphics.js","webpack:///./character.js","webpack:///./utils.js","webpack:///./timer.js","webpack:///./map.js","webpack:///./screens/title.js","webpack:///./screen.js","webpack:///./screens/create.js","webpack:///./screens/running.js"],"names":["window","Game","init","currentScreen","update","time","render","Gamestate","ctx","gameTimer","document","querySelector","getContext","Assets","tiles","panels","Promise","all","loadTileSet","then","tilesets","rearHair","body","face","frontHair","mapTiles","font","title","assets","start","addEventListener","event","key","keydown","Graphics","imageSource","tileWidth","tileHeight","resolve","imageElement","createElement","onload","image","target","canvas","width","height","drawImage","imageData","getImageData","img","tileColumns","Math","floor","tileRows","src","clearScreen","color","fillStyle","fillRect","drawTile","tileSet","tileX","tileY","x","y","tX","tY","chars","split","drawText","text","length","char","charIndex","charX","charY","i","charAt","indexOf","Character","map","parts","setRandomPart","pos","velocity","acceleration","state","runFrame","footPos","floorHeight","heightHere","delta","ticks","graphics","animFrame","partName","random","mod","randomInt","randomBetween","near","min","max","num1","num2","threshold","abs","Timer","game","timeStep","runTime","started","currentTime","Date","now","requestAnimationFrame","bind","newTime","frameTime","Y_FROM_FLOOR","GROUND","COLUMN_ROOT","COLUMN_MID","COLUMN_TOP","CLOUD_RIGHT","CLOUD_LEFT","PLATFORM","HEIGHTS","Map","mapstring","stage","clouds","c","push","_randomCloud","speed","cloud","_updateCloud","offset","index","tile","leftmostTile","rightmostTile","forEach","t","TitleScreen","Screen","CreateScreen","selection","choices","character","blink","setPrevPart","setNextPart","nextScreen","selectUp","preventDefault","selectDown","setLeft","setRight","map01","RunningScreen","jump"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACtCA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEAA,QAAOC,IAAP,GAAc;AACZC,OADY,kBACL;AACL,UAAKC,aAAL,GAAqB,oBAAgB,IAAhB,CAArB;AACD,IAHW;AAIZC,SAJY,kBAILC,IAJK,EAIC;AACX,UAAKF,aAAL,CAAmBC,MAAnB,CAA0BC,IAA1B;AACD,IANW;AAOZC,SAPY,oBAOH;AACP,UAAKH,aAAL,CAAmBG,MAAnB,qBAAoCC,UAAUC,GAA9C;AACD;AATW,EAAd;AAWA,KAAIC,YAAY,oBAAUR,IAAV,EAAgB,IAAI,EAApB,CAAhB;;AAEA,KAAIM,YAAY,EAAhB;AACAA,WAAUC,GAAV,GAAgBE,SAASC,aAAT,CAAuB,QAAvB,EAAiCC,UAAjC,CAA4C,IAA5C,CAAhB;AACA,KAAIC,SAAS,EAAb;AACAA,QAAOC,KAAP,GAAe,EAAf;AACAD,QAAOE,MAAP,GAAgB,EAAhB;AACAC,SAAQC,GAAR,CAAY,CACV,mBAASC,WAAT,CAAqB,qBAArB,EAA4C,EAA5C,EAAgD,EAAhD,CADU,EAEV,mBAASA,WAAT,CAAqB,gBAArB,EAAuC,EAAvC,EAA2C,EAA3C,CAFU,EAGV,mBAASA,WAAT,CAAqB,gBAArB,EAAuC,EAAvC,EAA2C,EAA3C,CAHU,EAIV,mBAASA,WAAT,CAAqB,sBAArB,EAA6C,EAA7C,EAAiD,EAAjD,CAJU,EAKV,mBAASA,WAAT,CAAqB,YAArB,EAAmC,EAAnC,EAAuC,EAAvC,CALU,EAMV,mBAASA,WAAT,CAAqB,eAArB,EAAsC,CAAtC,EAAyC,CAAzC,CANU,EAOV,mBAASA,WAAT,CAAqB,YAArB,EAAmC,GAAnC,EAAwC,GAAxC,CAPU,CAAZ,EAQGC,IARH,CAQQ,UAASC,QAAT,EAAmB;AACzBP,UAAOC,KAAP,CAAaO,QAAb,GAAwBD,SAAS,CAAT,CAAxB;AACAP,UAAOC,KAAP,CAAaQ,IAAb,GAAoBF,SAAS,CAAT,CAApB;AACAP,UAAOC,KAAP,CAAaS,IAAb,GAAoBH,SAAS,CAAT,CAApB;AACAP,UAAOC,KAAP,CAAaU,SAAb,GAAyBJ,SAAS,CAAT,CAAzB;AACAP,UAAOC,KAAP,CAAaW,QAAb,GAAwBL,SAAS,CAAT,CAAxB;AACAP,UAAOa,IAAP,GAAcN,SAAS,CAAT,CAAd;AACAP,UAAOE,MAAP,CAAcY,KAAd,GAAsBP,SAAS,CAAT,CAAtB;AACApB,UAAOC,IAAP,CAAY2B,MAAZ,GAAqBf,MAArB;AACAJ,aAAUoB,KAAV;AACD,EAlBD;;AAoBA7B,QAAO8B,gBAAP,CAAwB,SAAxB,EAAmC,UAASC,KAAT,EAAgB;AACjD,OAAIC,MAAMD,MAAMC,GAAhB;AACA/B,QAAKE,aAAL,CAAmB8B,OAAnB,CAA2BD,GAA3B,EAAgCD,KAAhC;AACD,EAHD,E;;;;;;;;;;;AC5CA,KAAIG,WAAW,EAAf;;AAEAA,UAAShB,WAAT,GAAuB,UAASiB,WAAT,EAAsBC,SAAtB,EAAiCC,UAAjC,EAA6C;AAClE,UAAO,IAAIrB,OAAJ,CAAY,UAASsB,OAAT,EAAkB;AACnC,SAAIC,eAAe7B,SAAS8B,aAAT,CAAuB,KAAvB,CAAnB;AACAD,kBAAaE,MAAb,GAAsB,UAASV,KAAT,EAAgB;AACpC,WAAIW,QAAQX,MAAMY,MAAlB;AACA,WAAIC,SAASlC,SAAS8B,aAAT,CAAuB,QAAvB,CAAb;AACA,WAAIK,QAAQH,MAAMG,KAAlB;AACA,WAAIC,SAASJ,MAAMI,MAAnB;AACAF,cAAOC,KAAP,GAAeA,KAAf;AACAD,cAAOE,MAAP,GAAgBA,MAAhB;AACA,WAAItC,MAAMoC,OAAOhC,UAAP,CAAkB,IAAlB,CAAV;AACAJ,WAAIuC,SAAJ,CAAcL,KAAd,EAAqB,CAArB,EAAwB,CAAxB,EAA2BG,KAA3B,EAAkCC,MAAlC;AACA,WAAIE,YAAYxC,IAAIyC,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuBJ,KAAvB,EAA8BC,MAA9B,CAAhB;AACAE,iBAAUE,GAAV,GAAgBR,KAAhB;AACAM,iBAAUZ,SAAV,GAAsBA,SAAtB;AACAY,iBAAUX,UAAV,GAAuBA,UAAvB;AACAW,iBAAUG,WAAV,GAAwBC,KAAKC,KAAL,CAAWR,QAAQT,SAAnB,CAAxB;AACAY,iBAAUM,QAAV,GAAqBF,KAAKC,KAAL,CAAWP,SAAST,UAApB,CAArB;AACAC,eAAQU,SAAR;AACD,MAhBD;AAiBAT,kBAAagB,GAAb,GAAmBpB,WAAnB;AACD,IApBM,CAAP;AAqBD,EAtBD;;AAwBAD,UAASsB,WAAT,GAAuB,UAAShD,GAAT,EAAciD,KAAd,EAAqB;AAC1CjD,OAAIkD,SAAJ,GAAgBD,KAAhB;AACAjD,OAAImD,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBnD,IAAIoC,MAAJ,CAAWC,KAA9B,EAAqCrC,IAAIoC,MAAJ,CAAWE,MAAhD;AACD,EAHD;;AAKAZ,UAAS0B,QAAT,GAAoB,UAASC,OAAT,EAAkBC,KAAlB,EAAyBC,KAAzB,EAAgCC,CAAhC,EAAmCC,CAAnC,EAAsCzD,GAAtC,EAA2C;AAC7D,OAAI0D,KAAKL,QAAQzB,SAAR,GAAoB0B,KAA7B;AACA,OAAIK,KAAKN,QAAQxB,UAAR,GAAqB0B,KAA9B;AACAC,OAAIZ,KAAKC,KAAL,CAAWW,CAAX,CAAJ;AACAC,OAAIb,KAAKC,KAAL,CAAWY,CAAX,CAAJ;AACAzD,OAAIuC,SAAJ,CAAcc,QAAQX,GAAtB,EACEgB,EADF,EACMC,EADN,EACUN,QAAQzB,SADlB,EAC6ByB,QAAQxB,UADrC,EAEE2B,CAFF,EAEMC,CAFN,EAEUJ,QAAQzB,SAFlB,EAE6ByB,QAAQxB,UAFrC;AAGD,EARD;;AAUA,KAAM+B,QAAQ,2GAA2GC,KAA3G,CAAiH,EAAjH,CAAd;AACAnC,UAASoC,QAAT,GAAoB,UAAST,OAAT,EAAkBU,IAAlB,EAAwBP,CAAxB,EAA2BC,CAA3B,EAA8BzD,GAA9B,EAAmC;AACrD,OAAIwD,MAAM,QAAV,EAAoB;AAClBA,SAAIZ,KAAKC,KAAL,CAAW,CAAC7C,IAAIoC,MAAJ,CAAWC,KAAX,GAAmB0B,KAAKC,MAAL,IAAeX,QAAQzB,SAAR,GAAoB,CAAnC,CAApB,IAA6D,CAAxE,CAAJ;AACD;AACD,OAAIqC,aAAJ;AAAA,OAAUC,kBAAV;AAAA,OAAqBC,cAArB;AAAA,OAA4BC,cAA5B;AACA,QAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIN,KAAKC,MAAxB,EAAgCK,GAAhC,EAAqC;AACnCJ,YAAOF,KAAKO,MAAL,CAAYD,CAAZ,CAAP;AACAH,iBAAYN,MAAMW,OAAN,CAAcN,IAAd,CAAZ;AACAE,aAAQX,IAAIa,KAAKhB,QAAQzB,SAAR,GAAoB,CAAzB,CAAZ;AACAwC,aAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0BG,OAA1B,CAAkCN,IAAlC,IAA0C,CAAC,CAA3C,GAA+CR,IAAI,CAAnD,GAAuDA,CAA/D;AACA,UAAKL,QAAL,CAAcC,OAAd,EAAuBa,SAAvB,EAAkC,CAAlC,EAAqCC,KAArC,EAA4CC,KAA5C,EAAmDpE,GAAnD;AACD;AACF,EAZD;;mBAce0B,Q;;;;;;;;;;;;;;ACxDf;;;;KAEqB8C,S;AACnB,sBAAYlE,KAAZ,EAAmBmE,GAAnB,EAAwB;AAAA;;AACtB,UAAKnE,KAAL,GAAaA,KAAb;AACA,UAAKmE,GAAL,GAAWA,GAAX;AACA,UAAKC,KAAL,GAAa,EAAb;AACA,UAAKC,aAAL,CAAmB,UAAnB;AACA,UAAKA,aAAL,CAAmB,MAAnB;AACA,UAAKA,aAAL,CAAmB,MAAnB;AACA,UAAKA,aAAL,CAAmB,WAAnB;AACA,UAAKC,GAAL,GAAW,EAACpB,GAAG,EAAJ,EAAQC,GAAG,EAAX,EAAX;AACA,UAAKoB,QAAL,GAAgB,EAACrB,GAAG,CAAJ,EAAOC,GAAG,CAAV,EAAhB;AACA,UAAKqB,YAAL,GAAoB,EAACtB,GAAG,CAAJ,EAAOC,GAAG,MAAV,EAApB;AACA,UAAKsB,KAAL,GAAa,UAAb;AACA,UAAKC,QAAL,GAAgB,CAAhB;AACD;;;;4BAEMnF,I,EAAM;AACX,WAAIoF,UAAU,KAAKF,KAAL,KAAe,SAAf,GAA2B,EAA3B,GAAgC,EAA9C;AACA,WAAIG,cAAc,MAAM,KAAKT,GAAL,CAASU,UAAT,CAAoB,KAAKP,GAAL,CAASpB,CAAT,GAAayB,OAAjC,CAAxB;AACA,WAAI,CAAC,iBAAK,KAAKL,GAAL,CAASnB,CAAd,EAAiByB,WAAjB,EAA8B,GAA9B,CAAD,IAAuC,KAAKL,QAAL,CAAcpB,CAAd,GAAkB,CAA7D,EAAiE;AAC/D,aAAI,KAAKoB,QAAL,CAAcpB,CAAd,IAAmB,CAAvB,EAA0B;AACxB,gBAAKsB,KAAL,GAAa,SAAb;AACD,UAFD,MAEO;AACL,gBAAKA,KAAL,GAAa,SAAb;AACD;AACD,cAAKF,QAAL,CAAcpB,CAAd,IAAmB5D,KAAKuF,KAAL,GAAa,KAAKN,YAAL,CAAkBrB,CAAlD;AACA,aAAI,iBAAK,KAAKoB,QAAL,CAAcpB,CAAnB,EAAsB,CAAtB,EAAyB,SAAzB,CAAJ,EAAyC;AACvC,gBAAKoB,QAAL,CAAcpB,CAAd,GAAkB,CAAlB;AACD;AACD,cAAKmB,GAAL,CAASnB,CAAT,IAAmB5D,KAAKuF,KAAL,GAAa,KAAKP,QAAL,CAAcpB,CAA9C;AACD,QAXD,MAWO;AACL,cAAKsB,KAAL,GAAa,SAAb;AACA,cAAKF,QAAL,CAAcpB,CAAd,GAAkB,CAAlB;AACA,cAAKmB,GAAL,CAASnB,CAAT,GAAkByB,WAAlB;AACD;AACD,YAAKF,QAAL,GAAiBnF,KAAKwF,KAAL,GAAa,CAAd,GAAmB,CAAnB,GAAuB,CAAvB,GAA2B,CAA3C;AACD;;;4BAEMC,Q,EAAUtF,G,EAAK;AACpB,WAAIuF,YAAY,CAAhB;AACA,WAAI,KAAKR,KAAL,KAAe,SAAnB,EAA8B;AAC5BQ,qBAAY,KAAKP,QAAjB;AACD,QAFD,MAEO,IAAI,KAAKD,KAAL,KAAe,SAAnB,EAA8B;AACnCQ,qBAAY,CAAZ;AACD,QAFM,MAEA,IAAI,KAAKR,KAAL,KAAe,SAAnB,EAA8B;AACnCQ,qBAAY,CAAZ;AACD;AACDD,gBAASlC,QAAT,CAAkB,KAAK9C,KAAL,CAAWO,QAA7B,EAAuC,KAAK6D,KAAL,CAAW7D,QAAlD,EAA4D,CAA5D,EAA+D,KAAK+D,GAAL,CAASpB,CAAxE,EAA2E,KAAKoB,GAAL,CAASnB,CAApF,EAAuFzD,GAAvF;AACAsF,gBAASlC,QAAT,CAAkB,KAAK9C,KAAL,CAAWQ,IAA7B,EAAmC,KAAK4D,KAAL,CAAW5D,IAA9C,EAAoDyE,SAApD,EAA+D,KAAKX,GAAL,CAASpB,CAAxE,EAA2E,KAAKoB,GAAL,CAASnB,CAApF,EAAuFzD,GAAvF;AACAsF,gBAASlC,QAAT,CAAkB,KAAK9C,KAAL,CAAWS,IAA7B,EAAmC,KAAK2D,KAAL,CAAW3D,IAA9C,EAAoD,CAApD,EAAuD,KAAK6D,GAAL,CAASpB,CAAhE,EAAmE,KAAKoB,GAAL,CAASnB,CAA5E,EAA+EzD,GAA/E;AACAsF,gBAASlC,QAAT,CAAkB,KAAK9C,KAAL,CAAWU,SAA7B,EAAwC,KAAK0D,KAAL,CAAW1D,SAAnD,EAA8D,CAA9D,EAAiE,KAAK4D,GAAL,CAASpB,CAA1E,EAA6E,KAAKoB,GAAL,CAASnB,CAAtF,EAAyFzD,GAAzF;AACD;;;4BAEM;AACL,WAAI,KAAK6E,QAAL,CAAcpB,CAAd,KAAoB,CAAxB,EAA2B;AACzB,cAAKoB,QAAL,CAAcpB,CAAd,GAAkB,CAAC,IAAnB;AACD;AACF;;;mCAEa+B,Q,EAAU;AACtB,YAAKd,KAAL,CAAWc,QAAX,IAAuB5C,KAAKC,KAAL,CAAYD,KAAK6C,MAAL,KAAgB,KAAKnF,KAAL,CAAWkF,QAAX,EAAqB7C,WAAjD,CAAvB;AACD;;;iCAEW6C,Q,EAAU;AACpB,YAAKd,KAAL,CAAWc,QAAX,IAAuB,gBAAI,KAAKd,KAAL,CAAWc,QAAX,IAAuB,CAA3B,EAA8B,KAAKlF,KAAL,CAAWkF,QAAX,EAAqB7C,WAAnD,CAAvB;AACD;;;iCAEW6C,Q,EAAU;AACpB,YAAKd,KAAL,CAAWc,QAAX,IAAuB,gBAAI,KAAKd,KAAL,CAAWc,QAAX,IAAuB,CAA3B,EAA8B,KAAKlF,KAAL,CAAWkF,QAAX,EAAqB7C,WAAnD,CAAvB;AACD;;;;;;mBArEkB6B,S;;;;;;;;;;;SCFLkB,G,GAAAA,G;SAIAC,S,GAAAA,S;SAIAC,a,GAAAA,a;SAIAC,I,GAAAA,I;AAZT,UAASH,GAAT,CAAalC,CAAb,EAAgBC,CAAhB,EAAmB;AACxB,UAAO,CAAED,IAAIC,CAAL,GAAUA,CAAX,IAAgBA,CAAvB;AACD;;AAEM,UAASkC,SAAT,CAAmBG,GAAnB,EAAwBC,GAAxB,EAA6B;AAClC,UAAOnD,KAAKC,KAAL,CAAWD,KAAK6C,MAAL,MAAiBM,MAAMD,GAAN,GAAY,CAA7B,CAAX,IAA8CA,GAArD;AACD;;AAEM,UAASF,aAAT,CAAuBE,GAAvB,EAA4BC,GAA5B,EAAiC;AACtC,UAAOnD,KAAK6C,MAAL,MAAiBM,MAAMD,GAAvB,IAA8BA,GAArC;AACD;;AAEM,UAASD,IAAT,CAAcG,IAAd,EAAoBC,IAApB,EAA0BC,SAA1B,EAAqC;AAC1C,UAAOtD,KAAKuD,GAAL,CAASH,OAAOC,IAAhB,KAAyBC,SAAhC;AACD,E;;;;;;;;;;;;;;;;KCdoBE,K;AACnB,kBAAYC,IAAZ,EAAkBC,QAAlB,EAA4B;AAAA;;AAC1B,UAAKzG,IAAL,GAAY,EAAZ;AACA,UAAKA,IAAL,CAAU0G,OAAV,GAAoB,CAApB;AACA,UAAK1G,IAAL,CAAUwF,KAAV,GAAkB,CAAlB;AACA,UAAKxF,IAAL,CAAUuF,KAAV,GAAkB,CAAlB;AACA,UAAKoB,OAAL,GAAe,KAAf;AACA,UAAKF,QAAL,GAAgBA,QAAhB;AACA,UAAKD,IAAL,GAAYA,IAAZ;AACD;;;;6BAEO;AACN,WAAI,KAAKG,OAAL,KAAiB,KAArB,EAA4B;AAC1B,cAAKA,OAAL,GAAe,IAAf;AACA,cAAKC,WAAL,GAAmBC,KAAKC,GAAL,EAAnB;AACA,cAAKN,IAAL,CAAU3G,IAAV;AACD;AACDkH,6BAAsB,KAAKvF,KAAL,CAAWwF,IAAX,CAAgB,IAAhB,CAAtB;AACA,WAAIC,UAAUJ,KAAKC,GAAL,EAAd;AACA,WAAII,YAAYD,UAAU,KAAKL,WAA/B;AACA,YAAKA,WAAL,GAAmBK,OAAnB;AACA,cAAOC,YAAY,CAAnB,EAAsB;AACpB,cAAKlH,IAAL,CAAUuF,KAAV,GAAkBxC,KAAKkD,GAAL,CAASiB,SAAT,EAAoB,KAAKT,QAAzB,CAAlB;AACAS,sBAAa,KAAKlH,IAAL,CAAUuF,KAAvB;AACA,cAAKvF,IAAL,CAAU0G,OAAV,IAAqB,KAAK1G,IAAL,CAAUuF,KAA/B;AACA,cAAKiB,IAAL,CAAUzG,MAAV,CAAiB,KAAKC,IAAtB;AACD;AACD,YAAKA,IAAL,CAAUwF,KAAV;AACA,YAAKgB,IAAL,CAAUvG,MAAV;AACD;;;;;;mBA7BkBsG,K;;;;;;;;;;;;;;ACArB;;;;AACA,KAAMY,eAAe,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,EAAe,EAAf,EAAmB,EAAnB,CAArB;AACA,KAAMC,SAAS,CAAf;AACA,KAAMC,cAAc,CAApB;AACA,KAAMC,aAAa,CAAnB;AACA,KAAMC,aAAa,CAAnB;AACA,KAAMC,cAAc,CAApB;AACA,KAAMC,aAAa,CAAnB;AACA,KAAMC,WAAW,CAAjB;AACA,KAAMC,UAAU,CAAC,CAAC,GAAF,EAAO,EAAP,EAAW,EAAX,EAAe,EAAf,EAAmB,EAAnB,CAAhB;;KAEqBC,G;AACnB,gBAAYnH,KAAZ,EAAmBoH,SAAnB,EAA8B;AAAA;;AAC5B,UAAKpH,KAAL,GAAaA,KAAb;AACA,UAAKqH,KAAL,GAAaD,UAAU7D,KAAV,CAAgB,EAAhB,CAAb;AACA,UAAKL,CAAL,GAAS,CAAT;AACA,UAAKoE,MAAL,GAAc,EAAd;AACA,UAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3B,YAAKD,MAAL,CAAYE,IAAZ,CAAiB,KAAKC,YAAL,EAAjB;AACD;AACF;;;;oCACc;AACb,cAAO,EAACvE,GAAG,0BAAc,CAAC,CAAf,EAAkB,GAAlB,CAAJ,EAA4BC,GAAG,0BAAc,CAAd,EAAiB,GAAjB,CAA/B,EAAsDuE,OAAO,0BAAc,IAAd,EAAoB,GAApB,CAA7D,EAAP;AACD;;;kCACYC,K,EAAOpI,I,EAAM;AACxB,WAAIoI,MAAMzE,CAAN,GAAU,CAAC,EAAf,EAAmB;AACjByE,eAAMzE,CAAN,IAAW3D,KAAKuF,KAAL,GAAa6C,MAAMD,KAA9B;AACD,QAFD,MAEO;AACLC,eAAMzE,CAAN,GAAU,GAAV;AACAyE,eAAMxE,CAAN,GAAU,0BAAc,CAAd,EAAiB,GAAjB,CAAV;AACAwE,eAAMD,KAAN,GAAc,0BAAc,IAAd,EAAoB,GAApB,CAAd;AACD;AACF;;;4BACMnI,I,EAAMuF,K,EAAOC,K,EAAO;AACzB,YAAK7B,CAAL,IAAU3D,KAAKuF,KAAL,GAAa,GAAvB;AACA,YAAI,IAAIf,IAAI,CAAZ,EAAeA,IAAI,KAAKuD,MAAL,CAAY5D,MAA/B,EAAuCK,GAAvC,EAA4C;AAC1C,cAAK6D,YAAL,CAAkB,KAAKN,MAAL,CAAYvD,CAAZ,CAAlB,EAAkCxE,IAAlC;AACD;AACF;;;gCACUsI,M,EAAQ;AACjB,WAAIC,QAAQxF,KAAKC,KAAL,CAAW,CAAC,CAAC,KAAKW,CAAN,GAAU2E,MAAX,IAAqB,KAAK7H,KAAL,CAAWW,QAAX,CAAoBW,SAApD,CAAZ;AACA,WAAIyG,OAAO,KAAKV,KAAL,CAAWS,KAAX,CAAX;AACA,cAAOZ,QAAQa,IAAR,CAAP;AACD;;;4BACM/C,Q,EAAUtF,G,EAAK;AAAA;;AACpB,WAAIsI,eAAe1F,KAAKC,KAAL,CAAY,CAAC,KAAKW,CAAP,GAAY,KAAKlD,KAAL,CAAWW,QAAX,CAAoBW,SAA3C,CAAnB;AACA,WAAI2G,gBAAgBD,eAAe,EAAnC;;AAEA,WAAIL,cAAJ;AACA,YAAI,IAAI5D,IAAI,CAAZ,EAAeA,IAAI,KAAKuD,MAAL,CAAY5D,MAA/B,EAAuCK,GAAvC,EAA4C;AAC1C4D,iBAAQ,KAAKL,MAAL,CAAYvD,CAAZ,CAAR;AACAiB,kBAASlC,QAAT,CAAkB,KAAK9C,KAAL,CAAWW,QAA7B,EAAuCqG,UAAvC,EAAmD,CAAnD,EAAsDW,MAAMzE,CAA5D,EAA+DyE,MAAMxE,CAArE,EAAwEzD,GAAxE;AACAsF,kBAASlC,QAAT,CAAkB,KAAK9C,KAAL,CAAWW,QAA7B,EAAuCoG,WAAvC,EAAoD,CAApD,EAAuDY,MAAMzE,CAAN,GAAU,EAAjE,EAAqEyE,MAAMxE,CAA3E,EAA8EzD,GAA9E;AACD;;AAED,YAAK2H,KAAL,CAAWa,OAAX,CAAmB,UAACC,CAAD,EAAIL,KAAJ,EAAc;AAC/B,aAAIA,QAAQE,YAAR,IAAwBF,QAAQG,aAApC,EAAmD;AACjD;AACD;AACD,aAAI/E,IAAI,MAAKA,CAAL,GAAS,MAAKlD,KAAL,CAAWW,QAAX,CAAoBW,SAApB,GAAgCwG,KAAjD;AACA,iBAAOK,CAAP;AACA,gBAAK,GAAL;AACE;AACF,gBAAK,GAAL;AACA,gBAAK,GAAL;AACA,gBAAK,GAAL;AACA,gBAAK,GAAL;AACEnD,sBAASlC,QAAT,CAAkB,MAAK9C,KAAL,CAAWW,QAA7B,EAAuCsG,QAAvC,EAAiD,CAAjD,EAAoD/D,CAApD,EAAuDwD,aAAayB,IAAI,CAAjB,CAAvD,EAA4EzI,GAA5E;AACA;AARF;AAUD,QAfD;AAgBD;;;;;;mBA5DkByH,G;;;;;;;;;;;;;;ACXrB;;;;AACA;;;;;;;;;;;;KAEqBiB,W;;;AACnB,wBAAYrC,IAAZ,EAAkB;AAAA;;AAAA,sHACVA,IADU;AAEjB;;;;4BAEMf,Q,EAAUtF,G,EAAK;AACpB;AACAsF,gBAASlC,QAAT,CAAkB,KAAKiD,IAAL,CAAUjF,MAAV,CAAiBb,MAAjB,CAAwBY,KAA1C,EAAiD,CAAjD,EAAoD,CAApD,EAAuD,CAAvD,EAA0D,CAA1D,EAA6DnB,GAA7D;AACAsF,gBAASxB,QAAT,CAAkB,KAAKuC,IAAL,CAAUjF,MAAV,CAAiBF,IAAnC,EAAyC,kBAAzC,EAA6D,QAA7D,EAAuE,EAAvE,EAA2ElB,GAA3E;AACD;;;6BAEOwB,G,EAAK;AACX,eAAOA,GAAP;AACA,cAAK,GAAL;AACE,gBAAK6E,IAAL,CAAU1G,aAAV,GAA0B,qBAAiB,KAAK0G,IAAtB,CAA1B;AACA;AAHF;AAKD;;;;;;mBAjBkBqC,W;;;;;;;;;;;;;;;;KCHAC,M;AACnB,mBAAYtC,IAAZ,EAAkB;AAAA;;AAChB,UAAKA,IAAL,GAAYA,IAAZ;AACD;;;;8BACS,CAAE;;;8BACF,CAAE;;;+BACF,CAAE;;;;;;mBANOsC,M;;;;;;;;;;;;;;ACArB;;;;AACA;;AACA;;;;AACA;;;;;;;;;;;;KAEqBC,Y;;;AACnB,yBAAYvC,IAAZ,EAAkB;AAAA;;AAAA,6HACVA,IADU;;AAEhB,WAAKwC,SAAL,GAAiB,CAAjB;AACA,WAAKC,OAAL,GAAe,CAAC,UAAD,EAAa,WAAb,EAA0B,MAA1B,EAAkC,MAAlC,EAA0C,MAA1C,CAAf;AACA,WAAKC,SAAL,GAAiB,wBAAc,MAAK1C,IAAL,CAAUjF,MAAV,CAAiBd,KAA/B,CAAjB;AACA,WAAK0I,KAAL,GAAa,CAAb;AALgB;AAMjB;;;;4BAEMnJ,I,EAAM;AACX,YAAKmJ,KAAL,GAAanJ,KAAKwF,KAAL,GAAa,EAAb,GAAkB,CAA/B;AACD;;;4BAEMC,Q,EAAUtF,G,EAAK;AACpBsF,gBAAStC,WAAT,CAAqBhD,GAArB,EAA0B,SAA1B;AACAsF,gBAASxB,QAAT,CAAkB,KAAKuC,IAAL,CAAUjF,MAAV,CAAiBF,IAAnC,EAAyC,wBAAzC,EAAmE,QAAnE,EAA6E,EAA7E,EAAiFlB,GAAjF;AACAsF,gBAASxB,QAAT,CAAkB,KAAKuC,IAAL,CAAUjF,MAAV,CAAiBF,IAAnC,EAAyC,MAAzC,EAAiD,EAAjD,EAAqD,EAArD,EAAyDlB,GAAzD;AACAsF,gBAASxB,QAAT,CAAkB,KAAKuC,IAAL,CAAUjF,MAAV,CAAiBF,IAAnC,EAAyC,OAAzC,EAAkD,EAAlD,EAAsD,EAAtD,EAA0DlB,GAA1D;AACAsF,gBAASxB,QAAT,CAAkB,KAAKuC,IAAL,CAAUjF,MAAV,CAAiBF,IAAnC,EAAyC,MAAzC,EAAiD,EAAjD,EAAqD,EAArD,EAAyDlB,GAAzD;AACAsF,gBAASxB,QAAT,CAAkB,KAAKuC,IAAL,CAAUjF,MAAV,CAAiBF,IAAnC,EAAyC,MAAzC,EAAiD,EAAjD,EAAqD,EAArD,EAAyDlB,GAAzD;AACAsF,gBAASxB,QAAT,CAAkB,KAAKuC,IAAL,CAAUjF,MAAV,CAAiBF,IAAnC,EAAyC,MAAzC,EAAiD,EAAjD,EAAqD,EAArD,EAAyDlB,GAAzD;AACA,WAAI,KAAK6I,SAAL,GAAiB,CAArB,EAAwB;AACtBvD,kBAASxB,QAAT,CAAkB,KAAKuC,IAAL,CAAUjF,MAAV,CAAiBF,IAAnC,EAAyC,UAAzC,EAAqD,EAArD,EAAyD,KAAK2H,SAAL,GAAiB,EAAjB,GAAsB,EAA/E,EAAmF7I,GAAnF;AACD;AACD,WAAI,KAAK6I,SAAL,KAAmB,CAAnB,IAAwB,KAAKG,KAAjC,EAAwC;AACtC1D,kBAASxB,QAAT,CAAkB,KAAKuC,IAAL,CAAUjF,MAAV,CAAiBF,IAAnC,EAAyC,SAAzC,EAAoD,EAApD,EAAwD,EAAxD,EAA4DlB,GAA5D;AACD;AACD,YAAK+I,SAAL,CAAejJ,MAAf,CAAsBwF,QAAtB,EAAgCtF,GAAhC;AACD;;;kCAEY;AACX,WAAI,KAAK6I,SAAL,KAAmB,CAAvB,EAA0B;AACxB,cAAKxC,IAAL,CAAU1G,aAAV,GAA0B,sBAAkB,KAAK0G,IAAvB,EAA6B,KAAK0C,SAAlC,CAA1B;AACD;AACF;;;gCAEU;AACT,YAAKF,SAAL,GAAiBjG,KAAKmD,GAAL,CAAS,KAAK8C,SAAL,GAAiB,CAA1B,EAA6B,CAA7B,CAAjB;AACD;;;kCAEY;AACX,YAAKA,SAAL,GAAiBjG,KAAKkD,GAAL,CAAS,KAAK+C,SAAL,GAAiB,CAA1B,EAA6B,KAAKC,OAAL,CAAa9E,MAAb,GAAsB,CAAnD,CAAjB;AACD;;;+BAES;AACR,WAAI,KAAK6E,SAAL,GAAiB,CAArB,EAAwB;AACtB,cAAKE,SAAL,CAAeE,WAAf,CAA2B,KAAKH,OAAL,CAAa,KAAKD,SAAlB,CAA3B;AACD;AACF;;;gCAEU;AACT,WAAI,KAAKA,SAAL,GAAiB,CAArB,EAAwB;AACtB,cAAKE,SAAL,CAAeG,WAAf,CAA2B,KAAKJ,OAAL,CAAa,KAAKD,SAAlB,CAA3B;AACD;AACF;;;6BAEOrH,G,EAAKD,K,EAAO;AAClB,eAAOC,GAAP;AACA,cAAK,GAAL;AACE,gBAAK2H,UAAL;AACA;AACF,cAAK,SAAL;AACE,gBAAKC,QAAL;AACA7H,iBAAM8H,cAAN;AACA;AACF,cAAK,WAAL;AACE,gBAAKC,UAAL;AACA/H,iBAAM8H,cAAN;AACA;AACF,cAAK,WAAL;AACE,gBAAKE,OAAL;AACAhI,iBAAM8H,cAAN;AACA;AACF,cAAK,YAAL;AACE,gBAAKG,QAAL;AACAjI,iBAAM8H,cAAN;AACA;AAnBF;AAqBD;;;;;;mBA9EkBT,Y;;;;;;;;;;;;;;ACLrB;;;;AACA;;;;AACA;;;;;;;;;;;;AAEA,KAAMa,QAAQ,mIAAd;;KAGqBC,a;;;AACnB,0BAAYrD,IAAZ,EAAkB0C,SAAlB,EAA6B;AAAA;;AAAA,+HACrB1C,IADqB;;AAE3B,WAAK5B,GAAL,GAAW,kBAAQ,MAAK4B,IAAL,CAAUjF,MAAV,CAAiBd,KAAzB,EAAgCmJ,KAAhC,CAAX;AACA,WAAKV,SAAL,GAAiBA,SAAjB;AACAA,eAAUtE,GAAV,GAAgB,MAAKA,GAArB;AAJ2B;AAK5B;;;;4BAEM5E,I,EAAM;AACX,YAAK4E,GAAL,CAAS7E,MAAT,CAAgBC,IAAhB;AACA,YAAKkJ,SAAL,CAAenJ,MAAf,CAAsBC,IAAtB;AACD;;;4BAEMyF,Q,EAAUtF,G,EAAK;AACpBsF,gBAAStC,WAAT,CAAqBhD,GAArB,EAA0B,SAA1B;AACA,YAAKyE,GAAL,CAAS3E,MAAT,CAAgBwF,QAAhB,EAA0BtF,GAA1B;AACA,YAAK+I,SAAL,CAAejJ,MAAf,CAAsBwF,QAAtB,EAAgCtF,GAAhC;AACD;;;6BAEOwB,G,EAAK;AACX,eAAOA,GAAP;AACA,cAAK,GAAL;AACE,gBAAKuH,SAAL,CAAeY,IAAf;AAFF;AAID;;;;;;mBAxBkBD,a","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 86e6e56328335b70506a\n **/","import Graphics from './graphics';\nimport Character from './character';\nimport Timer from './timer';\nimport Map from './map';\nimport TitleScreen from './screens/title';\n\nwindow.Game = {\n  init() {\n    this.currentScreen = new TitleScreen(this);\n  },\n  update(time) {\n    this.currentScreen.update(time);\n  },\n  render() {\n    this.currentScreen.render(Graphics, Gamestate.ctx);\n  }\n};\nlet gameTimer = new Timer(Game, 1 / 60);\n\nlet Gamestate = {};\nGamestate.ctx = document.querySelector('canvas').getContext('2d');\nlet Assets = {};\nAssets.tiles = {};\nAssets.panels = {};\nPromise.all([\n  Graphics.loadTileSet('i/ppl_rear_hair.png', 27, 27),\n  Graphics.loadTileSet('i/ppl_body.png', 27, 27),\n  Graphics.loadTileSet('i/ppl_face.png', 27, 27),\n  Graphics.loadTileSet('i/ppl_front_hair.png', 27, 27),\n  Graphics.loadTileSet('i/misc.png', 16, 16),\n  Graphics.loadTileSet('i/font5x7.png', 5, 7),\n  Graphics.loadTileSet('i/logo.png', 160, 144)\n]).then(function(tilesets) {\n  Assets.tiles.rearHair = tilesets[0];\n  Assets.tiles.body = tilesets[1];\n  Assets.tiles.face = tilesets[2];\n  Assets.tiles.frontHair = tilesets[3];\n  Assets.tiles.mapTiles = tilesets[4];\n  Assets.font = tilesets[5];\n  Assets.panels.title = tilesets[6];\n  window.Game.assets = Assets;\n  gameTimer.start();\n});\n\nwindow.addEventListener('keydown', function(event) {\n  let key = event.key;\n  Game.currentScreen.keydown(key, event);\n});\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./game.js\n **/","let Graphics = {};\n\nGraphics.loadTileSet = function(imageSource, tileWidth, tileHeight) {\n  return new Promise(function(resolve) {\n    var imageElement = document.createElement('img');\n    imageElement.onload = function(event) {\n      var image = event.target;\n      var canvas = document.createElement('canvas');\n      var width = image.width;\n      var height = image.height;\n      canvas.width = width;\n      canvas.height = height;\n      var ctx = canvas.getContext('2d');\n      ctx.drawImage(image, 0, 0, width, height);\n      var imageData = ctx.getImageData(0, 0, width, height);\n      imageData.img = image;\n      imageData.tileWidth = tileWidth;\n      imageData.tileHeight = tileHeight;\n      imageData.tileColumns = Math.floor(width / tileWidth);\n      imageData.tileRows = Math.floor(height / tileHeight);\n      resolve(imageData);\n    };\n    imageElement.src = imageSource;\n  });\n};\n\nGraphics.clearScreen = function(ctx, color) {\n  ctx.fillStyle = color;\n  ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n};\n\nGraphics.drawTile = function(tileSet, tileX, tileY, x, y, ctx) {\n  var tX = tileSet.tileWidth * tileX;\n  var tY = tileSet.tileHeight * tileY;\n  x = Math.floor(x);\n  y = Math.floor(y);\n  ctx.drawImage(tileSet.img,\n    tX, tY, tileSet.tileWidth, tileSet.tileHeight,\n    x,  y,  tileSet.tileWidth, tileSet.tileHeight);\n};\n\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 .!?,\\'\":;_-+=/\\\\[]()#@%{}<>^*&~|→←↑↓○●$€¥'.split('');\nGraphics.drawText = function(tileSet, text, x, y, ctx) {\n  if (x === 'center') {\n    x = Math.floor((ctx.canvas.width - text.length * (tileSet.tileWidth + 1)) / 2);\n  }\n  let char, charIndex, charX, charY;\n  for(let i = 0; i < text.length; i++) {\n    char = text.charAt(i);\n    charIndex = chars.indexOf(char);\n    charX = x + i * (tileSet.tileWidth + 1);\n    charY = ['g', 'j', 'p', 'q', 'y'].indexOf(char) > -1 ? y + 2 : y;\n    this.drawTile(tileSet, charIndex, 0, charX, charY, ctx);\n  };\n};\n\nexport default Graphics;\n\n\n\n/** WEBPACK FOOTER **\n ** ./graphics.js\n **/","import { near, mod } from './utils';\n\nexport default class Character {\n  constructor(tiles, map) {\n    this.tiles = tiles;\n    this.map = map;\n    this.parts = {};\n    this.setRandomPart('rearHair');\n    this.setRandomPart('face');\n    this.setRandomPart('body');\n    this.setRandomPart('frontHair');\n    this.pos = {x: 30, y: 50};\n    this.velocity = {x: 0, y: 0};\n    this.acceleration = {x: 0, y: 0.0005};\n    this.state = 'standing';\n    this.runFrame = 1;\n  }\n\n  update(time) {\n    let footPos = this.state === 'running' ? 11 : 18;\n    let floorHeight = 117 - this.map.heightHere(this.pos.x + footPos);\n    if (!near(this.pos.y, floorHeight, 0.1) || this.velocity.y < 0 ) {\n      if (this.velocity.y <= 0) {\n        this.state = 'jumping';\n      } else {\n        this.state = 'falling';\n      }\n      this.velocity.y += time.delta * this.acceleration.y;\n      if (near(this.velocity.y, 0, 0.0000001)) {\n        this.velocity.y = 0;\n      }\n      this.pos.y      += time.delta * this.velocity.y;\n    } else {\n      this.state = 'running';\n      this.velocity.y = 0;\n      this.pos.y      = floorHeight;\n    }\n    this.runFrame = (time.ticks % 6) < 3 ? 1 : 2;\n  }\n\n  render(graphics, ctx) {\n    let animFrame = 0;\n    if (this.state === 'running') {\n      animFrame = this.runFrame;\n    } else if (this.state === 'jumping') {\n      animFrame = 3;\n    } else if (this.state === 'falling') {\n      animFrame = 0;\n    }\n    graphics.drawTile(this.tiles.rearHair, this.parts.rearHair, 0, this.pos.x, this.pos.y, ctx);\n    graphics.drawTile(this.tiles.body, this.parts.body, animFrame, this.pos.x, this.pos.y, ctx);\n    graphics.drawTile(this.tiles.face, this.parts.face, 0, this.pos.x, this.pos.y, ctx);\n    graphics.drawTile(this.tiles.frontHair, this.parts.frontHair, 0, this.pos.x, this.pos.y, ctx);\n  }\n\n  jump() {\n    if (this.velocity.y === 0) {\n      this.velocity.y = -0.24;\n    }\n  }\n\n  setRandomPart(partName) {\n    this.parts[partName] = Math.floor((Math.random() * this.tiles[partName].tileColumns));\n  }\n\n  setNextPart(partName) {\n    this.parts[partName] = mod(this.parts[partName] + 1, this.tiles[partName].tileColumns);\n  }\n\n  setPrevPart(partName) {\n    this.parts[partName] = mod(this.parts[partName] - 1, this.tiles[partName].tileColumns);\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./character.js\n **/","export function mod(x, y) {\n  return ((x % y) + y) % y;\n}\n\nexport function randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function randomBetween(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nexport function near(num1, num2, threshold) {\n  return Math.abs(num1 - num2) <= threshold;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils.js\n **/","export default class Timer {\n  constructor(game, timeStep) {\n    this.time = {};\n    this.time.runTime = 0;\n    this.time.ticks = 0;\n    this.time.delta = 0;\n    this.started = false;\n    this.timeStep = timeStep;\n    this.game = game;\n  }\n\n  start() {\n    if (this.started === false) {\n      this.started = true;\n      this.currentTime = Date.now();\n      this.game.init();\n    }\n    requestAnimationFrame(this.start.bind(this));\n    let newTime = Date.now();\n    let frameTime = newTime - this.currentTime;\n    this.currentTime = newTime;\n    while (frameTime > 0) {\n      this.time.delta = Math.min(frameTime, this.timeStep);\n      frameTime -= this.time.delta;\n      this.time.runTime += this.time.delta;\n      this.game.update(this.time);\n    }\n    this.time.ticks++;\n    this.game.render();\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./timer.js\n **/","import { randomBetween } from './utils';\nconst Y_FROM_FLOOR = [128, 112, 96, 80, 68];\nconst GROUND = 0;\nconst COLUMN_ROOT = 1;\nconst COLUMN_MID = 2;\nconst COLUMN_TOP = 3;\nconst CLOUD_RIGHT = 8;\nconst CLOUD_LEFT = 7;\nconst PLATFORM = 9;\nconst HEIGHTS = [-100, 13, 29, 45, 61];\n\nexport default class Map {\n  constructor(tiles, mapstring) {\n    this.tiles = tiles;\n    this.stage = mapstring.split('');\n    this.x = 0;\n    this.clouds = [];\n    for (let c = 0; c < 20; c++) {\n      this.clouds.push(this._randomCloud());\n    }\n  }\n  _randomCloud() {\n    return {x: randomBetween(-6, 160), y: randomBetween(0, 120), speed: randomBetween(0.05, 0.2)};\n  }\n  _updateCloud(cloud, time) {\n    if (cloud.x > -40) {\n      cloud.x -= time.delta * cloud.speed;\n    } else {\n      cloud.x = 160;\n      cloud.y = randomBetween(0, 120);\n      cloud.speed = randomBetween(0.05, 0.2);\n    }\n  }\n  update(time, delta, ticks) {\n    this.x -= time.delta * 0.1;\n    for(let i = 0; i < this.clouds.length; i++) {\n      this._updateCloud(this.clouds[i], time);\n    }\n  }\n  heightHere(offset) {\n    let index = Math.floor((-this.x + offset) / this.tiles.mapTiles.tileWidth);\n    let tile = this.stage[index];\n    return HEIGHTS[tile];\n  }\n  render(graphics, ctx) {\n    let leftmostTile = Math.floor((-this.x) / this.tiles.mapTiles.tileWidth);\n    let rightmostTile = leftmostTile + 10;\n\n    let cloud;\n    for(let i = 0; i < this.clouds.length; i++) {\n      cloud = this.clouds[i];\n      graphics.drawTile(this.tiles.mapTiles, CLOUD_LEFT, 0, cloud.x, cloud.y, ctx);\n      graphics.drawTile(this.tiles.mapTiles, CLOUD_RIGHT, 0, cloud.x + 16, cloud.y, ctx);\n    };\n\n    this.stage.forEach((t, index) => {\n      if (index < leftmostTile || index > rightmostTile) {\n        return;\n      }\n      let x = this.x + this.tiles.mapTiles.tileWidth * index;\n      switch(t) {\n      case '0':\n        break;\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n        graphics.drawTile(this.tiles.mapTiles, PLATFORM, 0, x, Y_FROM_FLOOR[t - 1], ctx);\n        break;\n      }\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./map.js\n **/","import Screen from '../screen';\nimport CreateScreen from './create';\n\nexport default class TitleScreen extends Screen {\n  constructor(game) {\n    super(game);\n  }\n\n  render(graphics, ctx) {\n    // graphics.clearScreen(ctx, '#b4a56a');\n    graphics.drawTile(this.game.assets.panels.title, 0, 0, 0, 0, ctx);\n    graphics.drawText(this.game.assets.font, 'PRESS Z TO START', 'center', 90, ctx);\n  }\n\n  keydown(key) {\n    switch(key) {\n    case 'z':\n      this.game.currentScreen = new CreateScreen(this.game);\n      break;\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./screens/title.js\n **/","export default class Screen {\n  constructor(game) {\n    this.game = game;\n  }\n  update () {}\n  render () {}\n  keydown() {}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./screen.js\n **/","import Screen from '../screen';\nimport { mod } from '../utils';\nimport RunningScreen from './running';\nimport Character from '../character';\n\nexport default class CreateScreen extends Screen {\n  constructor(game) {\n    super(game);\n    this.selection = 0;\n    this.choices = ['rearHair', 'frontHair', 'face', 'body', 'next'];\n    this.character = new Character(this.game.assets.tiles);\n    this.blink = 0;\n  }\n\n  update(time) {\n    this.blink = time.ticks % 10 > 5;\n  }\n\n  render(graphics, ctx) {\n    graphics.clearScreen(ctx, '#b4a56a');\n    graphics.drawText(this.game.assets.font, 'CREATE A NEW RUNJUMPER', 'center', 10, ctx);\n    graphics.drawText(this.game.assets.font, 'HAIR', 80, 40, ctx);\n    graphics.drawText(this.game.assets.font, 'BANGS', 80, 50, ctx);\n    graphics.drawText(this.game.assets.font, 'FACE', 80, 60, ctx);\n    graphics.drawText(this.game.assets.font, 'BODY', 80, 70, ctx);\n    graphics.drawText(this.game.assets.font, 'RUN!', 80, 90, ctx);\n    if (this.selection < 4) {\n      graphics.drawText(this.game.assets.font, '←      →', 70, this.selection * 10 + 40, ctx);\n    }\n    if (this.selection === 4 && this.blink) {\n      graphics.drawText(this.game.assets.font, '[     ]', 70, 90, ctx);\n    }\n    this.character.render(graphics, ctx);\n  }\n\n  nextScreen() {\n    if (this.selection === 4) {\n      this.game.currentScreen = new RunningScreen(this.game, this.character);\n    }\n  }\n\n  selectUp() {\n    this.selection = Math.max(this.selection - 1, 0);\n  }\n\n  selectDown() {\n    this.selection = Math.min(this.selection + 1, this.choices.length - 1);\n  }\n\n  setLeft() {\n    if (this.selection < 4) {\n      this.character.setPrevPart(this.choices[this.selection]);\n    }\n  }\n\n  setRight() {\n    if (this.selection < 4) {\n      this.character.setNextPart(this.choices[this.selection]);\n    }\n  }\n\n  keydown(key, event) {\n    switch(key) {\n    case 'z':\n      this.nextScreen();\n      break;\n    case 'ArrowUp':\n      this.selectUp();\n      event.preventDefault();\n      break;\n    case 'ArrowDown':\n      this.selectDown();\n      event.preventDefault();\n      break;\n    case 'ArrowLeft':\n      this.setLeft();\n      event.preventDefault();\n      break;\n    case 'ArrowRight':\n      this.setRight();\n      event.preventDefault();\n      break;\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./screens/create.js\n **/","import Screen from '../screen';\nimport Map from '../map';\nimport Character from '../character';\n\nconst map01 = \"111111110001111111111111111110002222222224444444000000011111111111111113311331133111111122211113333332222222224444444440000011111\";\n\n\nexport default class RunningScreen extends Screen {\n  constructor(game, character) {\n    super(game);\n    this.map = new Map(this.game.assets.tiles, map01);\n    this.character = character;\n    character.map = this.map;\n  }\n\n  update(time) {\n    this.map.update(time);\n    this.character.update(time);\n  }\n\n  render(graphics, ctx) {\n    graphics.clearScreen(ctx, '#b4a56a');\n    this.map.render(graphics, ctx);\n    this.character.render(graphics, ctx);\n  }\n\n  keydown(key) {\n    switch(key) {\n    case 'z':\n      this.character.jump();\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./screens/running.js\n **/"],"sourceRoot":""}