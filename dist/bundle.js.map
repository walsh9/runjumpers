{"version":3,"sources":["webpack:///webpack/bootstrap 190d897e81bfedb7ec76","webpack:///./game.js","webpack:///./graphics.js","webpack:///./character.js","webpack:///./utils.js","webpack:///./timer.js","webpack:///./map.js","webpack:///./screens/title.js","webpack:///./screen.js","webpack:///./screens/create.js","webpack:///./screens/running.js","webpack:///./loader.js","webpack:///../~/promise-from-hash/index.js","webpack:///../~/es6-promise/dist/commonjs/main.js","webpack:///../~/es6-promise/dist/commonjs/promise/promise.js","webpack:///../~/es6-promise/dist/commonjs/promise/config.js","webpack:///../~/es6-promise/dist/commonjs/promise/utils.js","webpack:///../~/es6-promise/dist/commonjs/promise/cast.js","webpack:///../~/es6-promise/dist/commonjs/promise/all.js","webpack:///../~/es6-promise/dist/commonjs/promise/race.js","webpack:///../~/es6-promise/dist/commonjs/promise/resolve.js","webpack:///../~/es6-promise/dist/commonjs/promise/reject.js","webpack:///../~/es6-promise/dist/commonjs/promise/asap.js","webpack:///../~/process/browser.js","webpack:///../~/es6-promise/dist/commonjs/promise/polyfill.js"],"names":["window","Game","init","currentScreen","update","time","render","graphics","gameTimer","loader","addTileSet","addGraphic","n","load","then","assets","assetBundle","ctx","document","querySelector","getContext","setFont","tiles","font","start","addEventListener","event","key","keydown","chars","split","Graphics","color","fillStyle","fillRect","canvas","width","height","tileSet","tileX","tileY","x","y","tX","tileWidth","tY","tileHeight","Math","floor","drawImage","img","graphic","drawTile","text","length","char","charIndex","charX","charY","i","charAt","indexOf","Character","charParams","map","runSpeed","parts","randomizeParts","pos","velocity","acceleration","state","runFrame","delta","footPos","floorHeight","heightHere","ticks","animFrame","rearHair","body","face","frontHair","setRandomPart","partName","random","tileColumns","mod","randomInt","randomBetween","near","shuffle","min","max","num1","num2","threshold","abs","array","temporaryValue","randomIndex","currentIndex","Timer","game","timeStep","runTime","started","currentTime","Date","now","requestAnimationFrame","bind","newTime","frameTime","Y_FROM_FLOOR","GROUND","COLUMN_ROOT","COLUMN_MID","COLUMN_TOP","CLOUD_RIGHT","CLOUD_LEFT","PLATFORM","HEIGHTS","Map","params","stage","mapstring","stageWidth","mapTiles","scrollSpeed","bg","clouds","bgSlices","bg1","createBg","slice","bg2","_updateCloud","offset","index","tile","leftmostTile","rightmostTile","draw","parallaxFactor","forEach","t","variant","spacing","availableSlices","minWidth","w","possibleSlices","slices","sliceId","pop","push","createElement","TitleScreen","character","nextJump","blink","jump","clearScreen","drawGraphic","title","drawText","Screen","CreateScreen","selection","choices","frame","playerframe","setPrevPart","setNextPart","nextScreen","selectUp","preventDefault","selectDown","setLeft","setRight","map01","RunningScreen","hop","Loader","tilesets","name","imageSource","Object","keys","reduce","accumulator","currentKey","_loadTileSet","_loadGraphic","_loadImage","Promise","resolve","imageElement","onload","image","target","imageData","getImageData","tileRows","src"],"mappings":"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A;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAiB,wBAAwB;AACzC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,yDAAwD;;AAExD;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0BAAyB,aAAa;AACtC;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT,0BAAyB,aAAa;AACtC;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA,IAAG;AACH,oBAAmB,aAAa;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,oCAAmC,QAAQ;AAC3C;AACA;;AAEA;AACA;;AAEA;AACA,oCAAmC,QAAQ;AAC3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2B;;;;;;ACpNA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,+B;;;;;;ACdA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mCAAkC,6BAA6B;;;AAG/D;AACA;AACA;AACA,mB;;;;;;ACrBA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,mCAAkC;AAClC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,iBAAgB;AAChB;;AAEA,iCAAgC;AAChC;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAU,OAAO;AACjB,YAAW,QAAQ;AACnB;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA,qB;;;;;;AClEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;;AAEA;AACA;AACA,WAAU,MAAM;AAChB,WAAU,OAAO;AACjB,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,qBAAqB;AACxC;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;;AAEA,mB;;;;;;AC5FA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA,WAAU,MAAM;AAChB,WAAU,OAAO;AACjB;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,qBAAqB;AACxC;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;;AAEA,qB;;;;;;ACxFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA,WAAU,IAAI;AACd,WAAU,OAAO;AACjB;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA,2B;;;;;;ACzCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;;AAEA;AACA;AACA,WAAU,IAAI;AACd,WAAU,OAAO;AACjB;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA,yB;;;;;;AC9CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA0B,sBAAsB;;AAEhD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,yCAAwC;AACxC;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qB;;;;;;;AC5DA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;ACnLtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,aAAa,EAAE;AACpD;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA,6B","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 190d897e81bfedb7ec76\n **/","import Loader from './loader';\nimport Timer from './timer';\nimport Graphics from './graphics';\nimport TitleScreen from './screens/title';\n\nwindow.Game = {\n  init() {\n    this.currentScreen = new TitleScreen(this);\n  },\n  update(time) {\n    this.currentScreen.update(time);\n  },\n  render() {\n    this.currentScreen.render(window.Game.graphics);\n  }\n};\n\nlet gameTimer = new Timer(Game, 1 / 60);\n\nlet loader = new Loader();\nloader.addTileSet('rearHair', 'i/ppl_rear_hair.png', 27, 27);\nloader.addTileSet('body', 'i/ppl_body.png', 27, 27);\nloader.addTileSet('face', 'i/ppl_face.png', 27, 27);\nloader.addTileSet('frontHair', 'i/ppl_front_hair.png', 27, 27);\nloader.addTileSet('mapTiles', 'i/misc.png', 16, 16);\nloader.addTileSet('font', 'i/font5x7.png', 5, 7);\nloader.addGraphic('title', 'i/logo.png');\nloader.addGraphic('frame', 'i/frame.png');\nloader.addGraphic('playerframe', 'i/playerframe.png');\nfor(let n = 1; n <= 10; n++){\n  loader.addGraphic(`bgDark${n}`, `i/bg/bg_slice_skyline_${n}_dark.png`);\n  loader.addGraphic(`bgLight${n}`, `i/bg/bg_slice_skyline_${n}_light.png`);\n}\nloader.load().then(assetBundle => {\n  window.Game.assets = assetBundle;\n  let ctx = document.querySelector('canvas').getContext('2d');\n  window.Game.graphics = new Graphics(ctx);\n  window.Game.graphics.setFont(window.Game.assets.tiles.font);\n  gameTimer.start();\n});\n\nwindow.addEventListener('keydown', function(event) {\n  let key = event.key;\n  Game.currentScreen.keydown(key, event);\n});\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./game.js\n **/","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 .!?,\\'\":;_-+=/\\\\[]()#@%{}<>^*&~|→←↑↓○●$€¥'.split('');\n\nexport default class Graphics {\n  constructor(ctx) {\n    this.ctx = ctx;\n  }\n\n  setFont(font) {\n    this.font = font;\n  }\n\n  clearScreen(color) {\n    this.ctx.fillStyle = color;\n    this.ctx.fillRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n  }\n\n  drawTile(tileSet, tileX, tileY, x, y) {\n    var tX = tileSet.tileWidth * tileX;\n    var tY = tileSet.tileHeight * tileY;\n    x = Math.floor(x);\n    y = Math.floor(y);\n    this.ctx.drawImage(tileSet.img,\n      tX, tY, tileSet.tileWidth, tileSet.tileHeight,\n      x,  y,  tileSet.tileWidth, tileSet.tileHeight);\n  }\n\n  drawGraphic(graphic, x, y) {\n    this.drawTile(graphic, 0, 0, x, y);\n  }\n\n  draw(...params) {\n    this.ctx.drawImage(...params);\n  }\n\n  drawText(text, x, y) {\n    if (x === 'center') {\n      x = Math.floor((this.ctx.canvas.width - text.length * (this.font.tileWidth + 1)) / 2);\n    }\n    let char, charIndex, charX, charY;\n    for(let i = 0; i < text.length; i++) {\n      char = text.charAt(i);\n      charIndex = chars.indexOf(char);\n      charX = x + i * (this.font.tileWidth + 1);\n      charY = ['g', 'j', 'p', 'q', 'y'].indexOf(char) > -1 ? y + 2 : y;\n      this.drawTile(this.font, charIndex, 0, charX, charY, this.ctx);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./graphics.js\n **/","import { near, mod } from './utils';\n\nexport default class Character {\n  constructor(charParams, map) {\n    this.tiles = charParams.tiles;\n    this.runSpeed = charParams.runSpeed;\n    this.map = map;\n    this.parts = {};\n    this.randomizeParts();\n    this.pos = {x: 30, y: 55};\n    this.velocity = {x: 0, y: 0};\n    this.acceleration = {x: 0, y: 0.0005};\n    this.state = 'standing';\n    this.runFrame = 1;\n  }\n\n  update(time) {\n    this.pos.x += time.delta * this.runSpeed;\n    let footPos = this.state === 'running' ? 11 : 18;\n    let floorHeight = 117 - this.map.heightHere(this.pos.x + footPos);\n    if (!near(this.pos.y, floorHeight, 0.1) || this.velocity.y < 0 ) {\n      if (this.velocity.y <= 0) {\n        this.state = 'jumping';\n      } else {\n        this.state = 'falling';\n      }\n      this.velocity.y += time.delta * this.acceleration.y;\n      if (near(this.velocity.y, 0, 0.0000001)) {\n        this.velocity.y = 0;\n      }\n      this.pos.y      += time.delta * this.velocity.y;\n    } else {\n      this.state = 'running';\n      this.velocity.y = 0;\n      this.pos.y      = floorHeight;\n    }\n    this.runFrame = (time.ticks % 6) < 3 ? 1 : 2;\n  }\n\n  render(graphics) {\n    let animFrame = 0;\n    if (this.state === 'running') {\n      animFrame = this.runFrame;\n    } else if (this.state === 'jumping') {\n      animFrame = 3;\n    } else if (this.state === 'falling') {\n      animFrame = 0;\n    }\n    graphics.drawTile(this.tiles.rearHair, this.parts.rearHair, 0, this.pos.x, this.pos.y);\n    graphics.drawTile(this.tiles.body, this.parts.body, animFrame, this.pos.x, this.pos.y);\n    graphics.drawTile(this.tiles.face, this.parts.face, 0, this.pos.x, this.pos.y);\n    graphics.drawTile(this.tiles.frontHair, this.parts.frontHair, 0, this.pos.x, this.pos.y);\n  }\n\n  jump() {\n    if (this.velocity.y === 0) {\n      this.velocity.y = -0.24;\n    }\n  }\n\n  hop() {\n    if (this.velocity.y === 0) {\n      this.velocity.y = -0.12;\n    }\n  }\n\n  randomizeParts() {\n    this.setRandomPart('rearHair');\n    this.setRandomPart('face');\n    this.setRandomPart('body');\n    this.setRandomPart('frontHair');\n  }\n\n  setRandomPart(partName) {\n    this.parts[partName] = Math.floor((Math.random() * this.tiles[partName].tileColumns));\n  }\n\n  setNextPart(partName) {\n    this.parts[partName] = mod(this.parts[partName] + 1, this.tiles[partName].tileColumns);\n  }\n\n  setPrevPart(partName) {\n    this.parts[partName] = mod(this.parts[partName] - 1, this.tiles[partName].tileColumns);\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./character.js\n **/","export function mod(x, y) {\n  return ((x % y) + y) % y;\n}\n\nexport function randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function randomBetween(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nexport function near(num1, num2, threshold) {\n  return Math.abs(num1 - num2) <= threshold;\n}\n\nexport function shuffle(array) {\n    let temporaryValue, randomIndex;\n    let currentIndex = array.length;\n    while (0 !== currentIndex) {\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1;\n        temporaryValue = array[currentIndex];\n        array[currentIndex] = array[randomIndex];\n        array[randomIndex] = temporaryValue;\n    }\n    return array;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils.js\n **/","export default class Timer {\n  constructor(game, timeStep) {\n    this.time = {};\n    this.time.runTime = 0;\n    this.time.ticks = 0;\n    this.time.delta = 0;\n    this.started = false;\n    this.timeStep = timeStep;\n    this.game = game;\n  }\n\n  start() {\n    if (this.started === false) {\n      this.started = true;\n      this.currentTime = Date.now();\n      this.game.init();\n    }\n    requestAnimationFrame(this.start.bind(this));\n    let newTime = Date.now();\n    let frameTime = newTime - this.currentTime;\n    this.currentTime = newTime;\n    while (frameTime > 0) {\n      this.time.delta = Math.min(frameTime, this.timeStep);\n      frameTime -= this.time.delta;\n      this.time.runTime += this.time.delta;\n      this.game.update(this.time);\n    }\n    this.time.ticks++;\n    this.game.render();\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./timer.js\n **/","import { randomInt, randomBetween, shuffle } from './utils';\nconst Y_FROM_FLOOR = [128, 112, 96, 80, 68];\nconst GROUND = 0;\nconst COLUMN_ROOT = 1;\nconst COLUMN_MID = 2;\nconst COLUMN_TOP = 3;\nconst CLOUD_RIGHT = 8;\nconst CLOUD_LEFT = 7;\nconst PLATFORM = 9;\nconst HEIGHTS = [-100, 13, 29, 45, 61];\n\nexport default class Map {\n  constructor(params) {\n    this.tiles = params.assets.tiles;\n    this.graphics = params.assets.graphics;\n    this.stage = params.mapstring.split('');\n    this.stageWidth = this.stage.length  * this.tiles.mapTiles.tileWidth;\n    this.scrollSpeed = params.scrollSpeed;\n    this.bg = params.bg;\n    this.x = 0;\n    this.clouds = [];\n    if (this.bg) {\n      let bgSlices = shuffle([1,2,3,4,5,6,7,8,9,10]);\n      this.bg1 = this.createBg('Dark', 15, 0.4, bgSlices.slice(0,5));\n      this.bg2 = this.createBg('Light', 20, 0.3, bgSlices.slice(5));\n    }\n  }\n  update(time, delta, ticks) {\n    this.x += time.delta * this.scrollSpeed;\n\n    for(let i = 0; i < this.clouds.length; i++) {\n      this._updateCloud(this.clouds[i], time);\n    }\n  }\n  heightHere(offset) {\n    let index = Math.floor((-this.x + offset) / this.tiles.mapTiles.tileWidth);\n    let tile = this.stage[index];\n    return HEIGHTS[tile];\n  }\n  render(graphics) {\n    let leftmostTile = Math.floor((-this.x) / this.tiles.mapTiles.tileWidth);\n    let rightmostTile = leftmostTile + 10;\n\n    if (this.bg) {\n      graphics.draw(this.bg2.canvas, Math.floor(this.x * this.bg2.parallaxFactor), 0);\n      graphics.draw(this.bg1.canvas, Math.floor(this.x * this.bg1.parallaxFactor), 0);\n    }\n\n    this.stage.forEach((t, index) => {\n      if (index < leftmostTile || index > rightmostTile) {\n        return;\n      }\n      let x = this.x + this.tiles.mapTiles.tileWidth * index;\n      switch(t) {\n      case '0':\n        break;\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n        graphics.drawTile(this.tiles.mapTiles, PLATFORM, 0, x, Y_FROM_FLOOR[t - 1]);\n        break;\n      }\n    });\n  }\n  createBg(variant, spacing, parallaxFactor, availableSlices) {\n    let minWidth = Math.floor(this.stageWidth * parallaxFactor);\n    let w = 0;\n    let possibleSlices = [];\n    let slices = [];\n    while (w < minWidth) {\n      if (possibleSlices.length === 0) {\n        possibleSlices = shuffle(availableSlices.slice());\n      }\n      let sliceId = possibleSlices.pop();\n      let slice = this.graphics[`bg${variant}${sliceId}`];\n      slices.push(slice);\n      w += slice.width + spacing;\n    }\n\n    let canvas = document.createElement('canvas');\n    let ctx = canvas.getContext('2d');\n    canvas.width = w;\n    canvas.height = 144;\n    let x = 0;\n    slices.forEach(slice => {\n      let y = randomInt(0, 2);\n      ctx.drawImage(slice.img, x, y * 12);\n      x += slice.width + spacing;\n    });\n    return {canvas, parallaxFactor};\n  }\n\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./map.js\n **/","import Screen from '../screen';\nimport Map from '../map';\nimport Character from '../character';\nimport CreateScreen from './create';\nimport { randomInt } from '../utils';\n\nexport default class TitleScreen extends Screen {\n  constructor(game) {\n    super(game);\n    this.map = new Map({assets: this.game.assets, mapstring: \"111111111111\", scrollSpeed: 0, bg: false});\n    this.map.x = -27;\n    this.character = new Character({tiles: this.tiles, runSpeed: 0.1});\n    this.character.pos.y = 104;\n    this.character.pos.x = -27;\n    this.character.map = this.map;\n    this.nextJump = randomInt(500, 2000);\n  }\n\n  update(time) {\n    this.blink = time.ticks % 50 < 25;\n    this.character.update(time);\n    if (this.character.pos.x > 160) {\n      this.character.randomizeParts();\n      this.character.velocity.y = 0;\n      this.character.pos.y = 104;\n      this.character.pos.x = -27;\n    }\n    if (time.runTime > this.nextJump) {\n      this.character.jump();\n      this.nextJump = time.runTime + randomInt(500, 2000);\n    }\n  }\n\n  render(graphics) {\n    graphics.clearScreen('#b4a56a');\n    graphics.drawGraphic(this.graphics.title, 0, 0);\n    if (this.blink) {\n      graphics.drawText('PRESS Z TO START', 'center', 80);\n    }\n    this.map.render(graphics);\n    this.character.render(graphics);\n  }\n\n  keydown(key) {\n    switch(key) {\n    case 'z':\n      this.game.currentScreen = new CreateScreen(this.game);\n      break;\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./screens/title.js\n **/","export default class Screen {\n  constructor(game) {\n    this.game = game;\n    this.tiles = game.assets.tiles;\n    this.graphics = game.assets.graphics;\n  }\n  update () {}\n  render () {}\n  keydown() {}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./screen.js\n **/","import Screen from '../screen';\nimport { mod } from '../utils';\nimport RunningScreen from './running';\nimport Character from '../character';\n\nexport default class CreateScreen extends Screen {\n  constructor(game) {\n    super(game);\n    this.selection = 0;\n    this.choices = ['rearHair', 'frontHair', 'face', 'body', 'next'];\n    this.character = new Character({tiles: this.game.assets.tiles, runSpeed: 0});\n    this.blink = 0;\n  }\n\n  update(time) {\n    this.blink = time.ticks % 10 > 5;\n  }\n\n  render(graphics) {\n    graphics.drawGraphic(this.graphics.frame, 0, 0);\n    graphics.drawGraphic(this.graphics.playerframe, 0, 0);\n    graphics.drawText('CREATE A NEW RUNJUMPER', 'center', 20);\n    graphics.drawText('HAIR', 90, 50);\n    graphics.drawText('BANGS', 90, 60);\n    graphics.drawText('FACE', 90, 70);\n    graphics.drawText('BODY', 90, 80);\n    graphics.drawText('RUN!', 'center', 110);\n    if (this.selection < 4) {\n      graphics.drawText('←      →', 80, this.selection * 10 + 50);\n    }\n    if (this.selection === 4 && this.blink) {\n      graphics.drawText('*     *', 'center', 110);\n    }\n    this.character.render(graphics);\n  }\n\n  nextScreen() {\n    if (this.selection === 4) {\n      this.game.currentScreen = new RunningScreen(this.game, this.character);\n    }\n  }\n\n  selectUp() {\n    this.selection = Math.max(this.selection - 1, 0);\n  }\n\n  selectDown() {\n    this.selection = Math.min(this.selection + 1, this.choices.length - 1);\n  }\n\n  setLeft() {\n    if (this.selection < 4) {\n      this.character.setPrevPart(this.choices[this.selection]);\n    }\n  }\n\n  setRight() {\n    if (this.selection < 4) {\n      this.character.setNextPart(this.choices[this.selection]);\n    }\n  }\n\n  keydown(key, event) {\n    switch(key) {\n    case 'z':\n      this.nextScreen();\n      break;\n    case 'ArrowUp':\n      this.selectUp();\n      event.preventDefault();\n      break;\n    case 'ArrowDown':\n      this.selectDown();\n      event.preventDefault();\n      break;\n    case 'ArrowLeft':\n      this.setLeft();\n      event.preventDefault();\n      break;\n    case 'ArrowRight':\n      this.setRight();\n      event.preventDefault();\n      break;\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./screens/create.js\n **/","import Screen from '../screen';\nimport Map from '../map';\nimport Character from '../character';\n\nconst map01 = \"11111111000111111111111111111000222222222444444400000011111111111111113311331133111111122211113333332222222224444444440000011111\";\n\nexport default class RunningScreen extends Screen {\n  constructor(game, character) {\n    super(game);\n    this.map = new Map({assets: this.game.assets, mapstring: map01, scrollSpeed: -0.1, bg: true});\n    this.character = character;\n    this.character.map = this.map;\n  }\n\n  update(time) {\n    this.map.update(time);\n    this.character.update(time);\n  }\n\n  render(graphics) {\n    graphics.clearScreen('#e6d69c');\n    this.map.render(graphics);\n    this.character.render(graphics);\n  }\n\n  keydown(key) {\n    switch(key) {\n    case 'z':\n      this.character.jump();\n      break;\n    case 'x':\n      this.character.hop();\n      break;\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./screens/running.js\n **/","import fromHash from 'promise-from-hash';\n\nexport default class Loader {\n  constructor() {\n    this.tilesets = {};\n    this.graphics = {};\n  }\n  addGraphic(name, imageSource) {\n    this.graphics[name] = {imageSource};\n  }\n  addTileSet(name, imageSource, tileWidth, tileHeight) {\n    this.tilesets[name] = {imageSource, tileWidth, tileHeight};\n  }\n  load() {\n    return fromHash({\n      tiles: fromHash(Object.keys(this.tilesets).reduce((accumulator, currentKey) => {\n        accumulator[currentKey] = this._loadTileSet(this.tilesets[currentKey]);\n        return accumulator;\n      }, {})),\n      graphics: fromHash(Object.keys(this.graphics).reduce((accumulator, currentKey) => {\n        accumulator[currentKey] = this._loadGraphic(this.graphics[currentKey]);\n        return accumulator;\n      }, {}))\n    });\n  }\n  _loadTileSet({imageSource, tileWidth, tileHeight}) {\n    return this._loadImage(imageSource, tileWidth, tileHeight);\n  }\n  _loadGraphic({imageSource}) {\n    return this._loadImage(imageSource);\n  }\n  _loadImage(imageSource, tileWidth, tileHeight) {\n    return new Promise(function(resolve) {\n      let imageElement = document.createElement('img');\n      imageElement.onload = function(event) {\n        let image = event.target;\n        let canvas = document.createElement('canvas');\n        let width = image.width;\n        let height = image.height;\n        canvas.width = width;\n        canvas.height = height;\n        let ctx = canvas.getContext('2d');\n        ctx.drawImage(image, 0, 0, width, height);\n        let imageData = ctx.getImageData(0, 0, width, height);\n        imageData.img = image;\n        tileWidth = tileWidth || width;\n        tileHeight = tileHeight || height;\n        imageData.tileWidth = tileWidth;\n        imageData.tileHeight = tileHeight;\n        imageData.tileColumns = Math.floor(width / tileWidth);\n        imageData.tileRows = Math.floor(height / tileHeight);\n        resolve(imageData);\n      };\n      imageElement.src = imageSource;\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./loader.js\n **/","'use strict';\r\n\r\nvar Promise = Promise || require('es6-promise').Promise;\r\n\r\nvar isArray = function(arr) {\r\n    return Array.isArray(arr);\r\n};\r\n\r\nvar isObject = function(obj) {\r\n    return typeof obj === 'object' && obj !== null;\r\n};\r\n\r\nvar isSimple = function(obj) {\r\n    return !isArray(obj) && !isObject(obj);\r\n};\r\n\r\nvar isPromise = function(obj) {\r\n    return obj && typeof obj.then === 'function';\r\n};\r\n\r\nvar clone = function(obj) {\r\n    var newObj = isArray(obj) ? [] : {};\r\n    for (var i in obj) {\r\n        if (isSimple(obj[i])) {\r\n            newObj[i] =  obj[i];\r\n        } else {\r\n            newObj[i] = isPromise(obj[i]) ? obj[i] : clone(obj[i]);\r\n        }\r\n    }\r\n    return newObj;\r\n};\r\n\r\nvar attachPromise = function(node, key, promise) {\r\n    return new Promise(function(resolve) {\r\n        promise.then(function(result) {\r\n            node[key] = result;\r\n            if (isSimple(result)) {\r\n                resolve(result);\r\n            } else {\r\n                return fromHash(result).then(resolve);\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\nvar fromHash = function(hash) { \r\n    var promises = Object.keys(hash).map(function(key) {\r\n        if (isPromise(hash[key])) return attachPromise(hash, key, hash[key]);\r\n        if (!isSimple(hash[key])) return fromHash(hash[key]);\r\n        return hash[key];\r\n    });\r\n\r\n    return new Promise(function(resolve) { \r\n        Promise.all(promises).then(function() {\r\n            resolve(hash);\r\n        });\r\n    });\r\n};\r\n\r\nmodule.exports = function(hash) {\r\n    if (isSimple(hash)) throw new Error(hash + ' is not an object');\r\n\r\n    return fromHash( clone(hash) );\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/promise-from-hash/index.js\n ** module id = 12\n ** module chunks = 0\n **/","\"use strict\";\nvar Promise = require(\"./promise/promise\").Promise;\nvar polyfill = require(\"./promise/polyfill\").polyfill;\nexports.Promise = Promise;\nexports.polyfill = polyfill;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/main.js\n ** module id = 13\n ** module chunks = 0\n **/","\"use strict\";\nvar config = require(\"./config\").config;\nvar configure = require(\"./config\").configure;\nvar objectOrFunction = require(\"./utils\").objectOrFunction;\nvar isFunction = require(\"./utils\").isFunction;\nvar now = require(\"./utils\").now;\nvar cast = require(\"./cast\").cast;\nvar all = require(\"./all\").all;\nvar race = require(\"./race\").race;\nvar staticResolve = require(\"./resolve\").resolve;\nvar staticReject = require(\"./reject\").reject;\nvar asap = require(\"./asap\").asap;\n\nvar counter = 0;\n\nconfig.async = asap; // default async is asap;\n\nfunction Promise(resolver) {\n  if (!isFunction(resolver)) {\n    throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n  }\n\n  if (!(this instanceof Promise)) {\n    throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n  }\n\n  this._subscribers = [];\n\n  invokeResolver(resolver, this);\n}\n\nfunction invokeResolver(resolver, promise) {\n  function resolvePromise(value) {\n    resolve(promise, value);\n  }\n\n  function rejectPromise(reason) {\n    reject(promise, reason);\n  }\n\n  try {\n    resolver(resolvePromise, rejectPromise);\n  } catch(e) {\n    rejectPromise(e);\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value, error, succeeded, failed;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n      succeeded = true;\n    } catch(e) {\n      failed = true;\n      error = e;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (handleThenable(promise, value)) {\n    return;\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (failed) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    resolve(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nvar PENDING   = void 0;\nvar SEALED    = 0;\nvar FULFILLED = 1;\nvar REJECTED  = 2;\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var subscribers = parent._subscribers;\n  var length = subscribers.length;\n\n  subscribers[length] = child;\n  subscribers[length + FULFILLED] = onFulfillment;\n  subscribers[length + REJECTED]  = onRejection;\n}\n\nfunction publish(promise, settled) {\n  var child, callback, subscribers = promise._subscribers, detail = promise._detail;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    invokeCallback(settled, child, callback, detail);\n  }\n\n  promise._subscribers = null;\n}\n\nPromise.prototype = {\n  constructor: Promise,\n\n  _state: undefined,\n  _detail: undefined,\n  _subscribers: undefined,\n\n  then: function(onFulfillment, onRejection) {\n    var promise = this;\n\n    var thenPromise = new this.constructor(function() {});\n\n    if (this._state) {\n      var callbacks = arguments;\n      config.async(function invokePromiseCallback() {\n        invokeCallback(promise._state, thenPromise, callbacks[promise._state - 1], promise._detail);\n      });\n    } else {\n      subscribe(this, thenPromise, onFulfillment, onRejection);\n    }\n\n    return thenPromise;\n  },\n\n  'catch': function(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\nPromise.all = all;\nPromise.cast = cast;\nPromise.race = race;\nPromise.resolve = staticResolve;\nPromise.reject = staticReject;\n\nfunction handleThenable(promise, value) {\n  var then = null,\n  resolved;\n\n  try {\n    if (promise === value) {\n      throw new TypeError(\"A promises callback cannot return that same promise.\");\n    }\n\n    if (objectOrFunction(value)) {\n      then = value.then;\n\n      if (isFunction(then)) {\n        then.call(value, function(val) {\n          if (resolved) { return true; }\n          resolved = true;\n\n          if (value !== val) {\n            resolve(promise, val);\n          } else {\n            fulfill(promise, val);\n          }\n        }, function(val) {\n          if (resolved) { return true; }\n          resolved = true;\n\n          reject(promise, val);\n        });\n\n        return true;\n      }\n    }\n  } catch (error) {\n    if (resolved) { return true; }\n    reject(promise, error);\n    return true;\n  }\n\n  return false;\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    fulfill(promise, value);\n  } else if (!handleThenable(promise, value)) {\n    fulfill(promise, value);\n  }\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) { return; }\n  promise._state = SEALED;\n  promise._detail = value;\n\n  config.async(publishFulfillment, promise);\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) { return; }\n  promise._state = SEALED;\n  promise._detail = reason;\n\n  config.async(publishRejection, promise);\n}\n\nfunction publishFulfillment(promise) {\n  publish(promise, promise._state = FULFILLED);\n}\n\nfunction publishRejection(promise) {\n  publish(promise, promise._state = REJECTED);\n}\n\nexports.Promise = Promise;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/promise/promise.js\n ** module id = 14\n ** module chunks = 0\n **/","\"use strict\";\nvar config = {\n  instrument: false\n};\n\nfunction configure(name, value) {\n  if (arguments.length === 2) {\n    config[name] = value;\n  } else {\n    return config[name];\n  }\n}\n\nexports.config = config;\nexports.configure = configure;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/promise/config.js\n ** module id = 15\n ** module chunks = 0\n **/","\"use strict\";\nfunction objectOrFunction(x) {\n  return isFunction(x) || (typeof x === \"object\" && x !== null);\n}\n\nfunction isFunction(x) {\n  return typeof x === \"function\";\n}\n\nfunction isArray(x) {\n  return Object.prototype.toString.call(x) === \"[object Array]\";\n}\n\n// Date.now is not available in browsers < IE9\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now#Compatibility\nvar now = Date.now || function() { return new Date().getTime(); };\n\n\nexports.objectOrFunction = objectOrFunction;\nexports.isFunction = isFunction;\nexports.isArray = isArray;\nexports.now = now;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/promise/utils.js\n ** module id = 16\n ** module chunks = 0\n **/","\"use strict\";\n/**\n  `RSVP.Promise.cast` returns the same promise if that promise shares a constructor\n  with the promise being casted.\n\n  Example:\n\n  ```javascript\n  var promise = RSVP.resolve(1);\n  var casted = RSVP.Promise.cast(promise);\n\n  console.log(promise === casted); // true\n  ```\n\n  In the case of a promise whose constructor does not match, it is assimilated.\n  The resulting promise will fulfill or reject based on the outcome of the\n  promise being casted.\n\n  In the case of a non-promise, a promise which will fulfill with that value is\n  returned.\n\n  Example:\n\n  ```javascript\n  var value = 1; // could be a number, boolean, string, undefined...\n  var casted = RSVP.Promise.cast(value);\n\n  console.log(value === casted); // false\n  console.log(casted instanceof RSVP.Promise) // true\n\n  casted.then(function(val) {\n    val === value // => true\n  });\n  ```\n\n  `RSVP.Promise.cast` is similar to `RSVP.resolve`, but `RSVP.Promise.cast` differs in the\n  following ways:\n  * `RSVP.Promise.cast` serves as a memory-efficient way of getting a promise, when you\n  have something that could either be a promise or a value. RSVP.resolve\n  will have the same effect but will create a new promise wrapper if the\n  argument is a promise.\n  * `RSVP.Promise.cast` is a way of casting incoming thenables or promise subclasses to\n  promises of the exact class specified, so that the resulting object's `then` is\n  ensured to have the behavior of the constructor you are calling cast on (i.e., RSVP.Promise).\n\n  @method cast\n  @for RSVP\n  @param {Object} object to be casted\n  @return {Promise} promise that is fulfilled when all properties of `promises`\n  have been fulfilled, or rejected if any of them become rejected.\n*/\n\n\nfunction cast(object) {\n  /*jshint validthis:true */\n  if (object && typeof object === 'object' && object.constructor === this) {\n    return object;\n  }\n\n  var Promise = this;\n\n  return new Promise(function(resolve) {\n    resolve(object);\n  });\n}\n\nexports.cast = cast;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/promise/cast.js\n ** module id = 17\n ** module chunks = 0\n **/","\"use strict\";\n/* global toString */\n\nvar isArray = require(\"./utils\").isArray;\nvar isFunction = require(\"./utils\").isFunction;\n\n/**\n  Returns a promise that is fulfilled when all the given promises have been\n  fulfilled, or rejected if any of them become rejected. The return promise\n  is fulfilled with an array that gives all the values in the order they were\n  passed in the `promises` array argument.\n\n  Example:\n\n  ```javascript\n  var promise1 = RSVP.resolve(1);\n  var promise2 = RSVP.resolve(2);\n  var promise3 = RSVP.resolve(3);\n  var promises = [ promise1, promise2, promise3 ];\n\n  RSVP.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  var promise1 = RSVP.resolve(1);\n  var promise2 = RSVP.reject(new Error(\"2\"));\n  var promise3 = RSVP.reject(new Error(\"3\"));\n  var promises = [ promise1, promise2, promise3 ];\n\n  RSVP.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @for RSVP\n  @param {Array} promises\n  @param {String} label\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n*/\nfunction all(promises) {\n  /*jshint validthis:true */\n  var Promise = this;\n\n  if (!isArray(promises)) {\n    throw new TypeError('You must pass an array to all.');\n  }\n\n  return new Promise(function(resolve, reject) {\n    var results = [], remaining = promises.length,\n    promise;\n\n    if (remaining === 0) {\n      resolve([]);\n    }\n\n    function resolver(index) {\n      return function(value) {\n        resolveAll(index, value);\n      };\n    }\n\n    function resolveAll(index, value) {\n      results[index] = value;\n      if (--remaining === 0) {\n        resolve(results);\n      }\n    }\n\n    for (var i = 0; i < promises.length; i++) {\n      promise = promises[i];\n\n      if (promise && isFunction(promise.then)) {\n        promise.then(resolver(i), reject);\n      } else {\n        resolveAll(i, promise);\n      }\n    }\n  });\n}\n\nexports.all = all;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/promise/all.js\n ** module id = 18\n ** module chunks = 0\n **/","\"use strict\";\n/* global toString */\nvar isArray = require(\"./utils\").isArray;\n\n/**\n  `RSVP.race` allows you to watch a series of promises and act as soon as the\n  first promise given to the `promises` argument fulfills or rejects.\n\n  Example:\n\n  ```javascript\n  var promise1 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve(\"promise 1\");\n    }, 200);\n  });\n\n  var promise2 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve(\"promise 2\");\n    }, 100);\n  });\n\n  RSVP.race([promise1, promise2]).then(function(result){\n    // result === \"promise 2\" because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `RSVP.race` is deterministic in that only the state of the first completed\n  promise matters. For example, even if other promises given to the `promises`\n  array argument are resolved, but the first completed promise has become\n  rejected before the other promises became fulfilled, the returned promise\n  will become rejected:\n\n  ```javascript\n  var promise1 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve(\"promise 1\");\n    }, 200);\n  });\n\n  var promise2 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error(\"promise 2\"));\n    }, 100);\n  });\n\n  RSVP.race([promise1, promise2]).then(function(result){\n    // Code here never runs because there are rejected promises!\n  }, function(reason){\n    // reason.message === \"promise2\" because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  @method race\n  @for RSVP\n  @param {Array} promises array of promises to observe\n  @param {String} label optional string for describing the promise returned.\n  Useful for tooling.\n  @return {Promise} a promise that becomes fulfilled with the value the first\n  completed promises is resolved with if the first completed promise was\n  fulfilled, or rejected with the reason that the first completed promise\n  was rejected with.\n*/\nfunction race(promises) {\n  /*jshint validthis:true */\n  var Promise = this;\n\n  if (!isArray(promises)) {\n    throw new TypeError('You must pass an array to race.');\n  }\n  return new Promise(function(resolve, reject) {\n    var results = [], promise;\n\n    for (var i = 0; i < promises.length; i++) {\n      promise = promises[i];\n\n      if (promise && typeof promise.then === 'function') {\n        promise.then(resolve, reject);\n      } else {\n        resolve(promise);\n      }\n    }\n  });\n}\n\nexports.race = race;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/promise/race.js\n ** module id = 19\n ** module chunks = 0\n **/","\"use strict\";\n/**\n  `RSVP.resolve` returns a promise that will become fulfilled with the passed\n  `value`. `RSVP.resolve` is essentially shorthand for the following:\n\n  ```javascript\n  var promise = new RSVP.Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  var promise = RSVP.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @for RSVP\n  @param {Any} value value that the returned promise will be resolved with\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve(value) {\n  /*jshint validthis:true */\n  var Promise = this;\n  return new Promise(function(resolve, reject) {\n    resolve(value);\n  });\n}\n\nexports.resolve = resolve;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/promise/resolve.js\n ** module id = 20\n ** module chunks = 0\n **/","\"use strict\";\n/**\n  `RSVP.reject` returns a promise that will become rejected with the passed\n  `reason`. `RSVP.reject` is essentially shorthand for the following:\n\n  ```javascript\n  var promise = new RSVP.Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  var promise = RSVP.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @for RSVP\n  @param {Any} reason value that the returned promise will be rejected with.\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise that will become rejected with the given\n  `reason`.\n*/\nfunction reject(reason) {\n  /*jshint validthis:true */\n  var Promise = this;\n\n  return new Promise(function (resolve, reject) {\n    reject(reason);\n  });\n}\n\nexports.reject = reject;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/promise/reject.js\n ** module id = 21\n ** module chunks = 0\n **/","\"use strict\";\nvar browserGlobal = (typeof window !== 'undefined') ? window : {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar local = (typeof global !== 'undefined') ? global : (this === undefined? window:this);\n\n// node\nfunction useNextTick() {\n  return function() {\n    process.nextTick(flush);\n  };\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function() {\n    node.data = (iterations = ++iterations % 2);\n  };\n}\n\nfunction useSetTimeout() {\n  return function() {\n    local.setTimeout(flush, 1);\n  };\n}\n\nvar queue = [];\nfunction flush() {\n  for (var i = 0; i < queue.length; i++) {\n    var tuple = queue[i];\n    var callback = tuple[0], arg = tuple[1];\n    callback(arg);\n  }\n  queue = [];\n}\n\nvar scheduleFlush;\n\n// Decide what async method to use to triggering processing of queued callbacks:\nif (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction asap(callback, arg) {\n  var length = queue.push([callback, arg]);\n  if (length === 1) {\n    // If length is 1, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    scheduleFlush();\n  }\n}\n\nexports.asap = asap;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/promise/asap.js\n ** module id = 22\n ** module chunks = 0\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/process/browser.js\n ** module id = 23\n ** module chunks = 0\n **/","\"use strict\";\n/*global self*/\nvar RSVPPromise = require(\"./promise\").Promise;\nvar isFunction = require(\"./utils\").isFunction;\n\nfunction polyfill() {\n  var local;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof window !== 'undefined' && window.document) {\n    local = window;\n  } else {\n    local = self;\n  }\n\n  var es6PromiseSupport = \n    \"Promise\" in local &&\n    // Some of these methods are missing from\n    // Firefox/Chrome experimental implementations\n    \"cast\" in local.Promise &&\n    \"resolve\" in local.Promise &&\n    \"reject\" in local.Promise &&\n    \"all\" in local.Promise &&\n    \"race\" in local.Promise &&\n    // Older version of the spec had a resolver object\n    // as the arg rather than a function\n    (function() {\n      var resolve;\n      new local.Promise(function(r) { resolve = r; });\n      return isFunction(resolve);\n    }());\n\n  if (!es6PromiseSupport) {\n    local.Promise = RSVPPromise;\n  }\n}\n\nexports.polyfill = polyfill;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/es6-promise/dist/commonjs/promise/polyfill.js\n ** module id = 24\n ** module chunks = 0\n **/"],"sourceRoot":""}