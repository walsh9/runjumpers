{"version":3,"sources":["webpack:///webpack/bootstrap e2adae63c131b4219b86","webpack:///./graphics.js","webpack:///./game.js","webpack:///./character.js","webpack:///./timer.js","webpack:///./map.js"],"names":["Graphics","loadTileSet","imageSource","tileWidth","tileHeight","Promise","resolve","imageElement","document","createElement","onload","event","image","target","canvas","width","height","ctx","getContext","drawImage","imageData","getImageData","img","tileColumns","Math","floor","tileRows","src","drawTile","tileSet","tileX","tileY","x","y","tX","tY","map01","Game","init","map","Assets","Tiles","character","update","time","render","Gamestate","fillStyle","fillRect","gameTimer","querySelector","all","then","tilesets","rearHair","body","face","frontHair","mapTiles","start","window","addEventListener","e","key","setNextPart","jump","Character","tiles","parts","setRandomPart","pos","velocity","acceleration","state","runFrame","floorHeight","whatsHere","delta","ticks","graphics","animFrame","console","log","partName","random","Timer","game","timeStep","runTime","started","currentTime","Date","now","requestAnimationFrame","bind","newTime","frameTime","min","Map","mapstring","stage","split","offset","heights","index","tile","GROUND","COLUMN_ROOT","COLUMN_MID","COLUMN_TOP","forEach","t"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e2adae63c131b4219b86\n **/","let Graphics = {}\n\nGraphics.loadTileSet = function(imageSource, tileWidth, tileHeight) {\n  return new Promise(function(resolve) {\n    var imageElement = document.createElement('img');\n    imageElement.onload = function(event) {\n      var image = event.target;\n      var canvas = document.createElement('canvas');\n      var width = image.width;\n      var height = image.height;\n      canvas.width = width;\n      canvas.height = height;\n      var ctx = canvas.getContext('2d');\n      ctx.drawImage(image, 0, 0, width, height);\n      var imageData = ctx.getImageData(0, 0, width, height);\n      imageData.img = image;\n      imageData.tileWidth = tileWidth;\n      imageData.tileHeight = tileHeight;\n      imageData.tileColumns = Math.floor(width / tileWidth);\n      imageData.tileRows = Math.floor(height / tileHeight);\n      resolve(imageData);\n    };\n    imageElement.src = imageSource;\n  });\n};\n\nGraphics.drawTile = function(tileSet, tileX, tileY, x, y, ctx) {\n  var tX = Math.floor(tileSet.tileWidth * tileX);\n  var tY = Math.floor(tileSet.tileHeight * tileY);\n  ctx.drawImage(tileSet.img,\n    tX, tY, tileSet.tileWidth, tileSet.tileHeight,\n    x,  y,  tileSet.tileWidth, tileSet.tileHeight);\n}\n\nexport default Graphics;\n\n\n\n/** WEBPACK FOOTER **\n ** ./graphics.js\n **/","import Graphics from './graphics';\nimport Character from './character';\nimport Timer from './timer';\nimport Map from './map';\n\nconst map01 = \"1121111111111211111000110111211131123111111113111110011011111000011111111113331111110000000000000000000\";\n\nlet Game = {\n  init() {\n    this.map = new Map(Assets.Tiles, map01);\n    this.character = new Character(Assets.Tiles, this.map);\n  },\n  update(time) {\n    this.map.update(time);\n    this.character.update(time);\n  },\n  render() {\n    Gamestate.ctx.fillStyle = '#b4a56a';\n    Gamestate.ctx.fillRect(0, 0, Gamestate.ctx.canvas.width, Gamestate.ctx.canvas.height);\n    this.map.render(Graphics, Gamestate.ctx);\n    this.character.render(Graphics, Gamestate.ctx);\n  }\n}\nlet gameTimer = new Timer(Game, 1 / 60);\n\nlet Gamestate = {};\nGamestate.ctx = document.querySelector('canvas').getContext('2d');\nlet Assets = {};\nAssets.Tiles = {};\nPromise.all([\n  Graphics.loadTileSet('i/ppl_rear_hair.png', 27, 27),\n  Graphics.loadTileSet('i/ppl_body.png', 27, 27),\n  Graphics.loadTileSet('i/ppl_face.png', 27, 27),\n  Graphics.loadTileSet('i/ppl_front_hair.png', 27, 27),\n  Graphics.loadTileSet('i/misc.png', 16, 16)\n]).then(function(tilesets) {\n  Assets.Tiles.rearHair = tilesets[0];\n  Assets.Tiles.body = tilesets[1];\n  Assets.Tiles.face = tilesets[2];\n  Assets.Tiles.frontHair = tilesets[3];\n  Assets.Tiles.mapTiles = tilesets[4];\n  gameTimer.start();\n});\n\nwindow.addEventListener('keydown', function(e) {\n  let key = e.key\n  switch(key) {\n  case 'w':\n    Game.character.setNextPart('rearHair');\n    break;\n  case 'a':\n    Game.character.setNextPart('body');\n    break;\n  case 's':\n    Game.character.setNextPart('face');\n    break;\n  case 'd':\n    Game.character.setNextPart('frontHair');\n    break;\n  case 'z':\n    Game.character.jump();\n    break;\n  }\n});\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./game.js\n **/","export default class Character {\n  constructor(tiles, map) {\n    this.tiles = tiles;\n    this.map = map;\n    this.parts = {};\n    this.setRandomPart('rearHair');\n    this.setRandomPart('face');\n    this.setRandomPart('body');\n    this.setRandomPart('frontHair');\n    this.pos = {x: 30, y: 50};\n    this.velocity = {x: 0, y: 0};\n    this.acceleration = {x: 0, y: 0.0005};\n    this.state = 'standing';\n    this.runFrame = 1;\n  }\n\n  update(time) {\n    let floorHeight = 117 - this.map.whatsHere(this.pos.x + 18).height;\n    if (this.pos.y < floorHeight || this.velocity.y < 0 ) {\n      if (this.velocity.y <= 0) {\n        this.state = 'jumping';\n      } else {\n        this.state ='falling';\n      }\n      this.velocity.y += time.delta * this.acceleration.y;\n      this.pos.y      += time.delta * this.velocity.y;\n    } else {\n      this.state = 'running'\n      this.velocity.y = 0;\n      this.pos.y      = floorHeight;\n    }\n    this.runFrame = (time.ticks % 8) < 4 ? 1 : 2;\n  }\n\n  render(graphics, ctx) {\n    let animFrame = 0;\n    if (this.state === 'running') {\n      animFrame = this.runFrame;\n    } else if (this.state === 'jumping') {\n      animFrame = 3;\n    } else if (this.state === 'falling') {\n      animFrame = 0;\n    }\n    graphics.drawTile(this.tiles.rearHair, this.parts.rearHair, 0, this.pos.x, this.pos.y, ctx);\n    graphics.drawTile(this.tiles.body, this.parts.body, animFrame, this.pos.x, this.pos.y, ctx);\n    graphics.drawTile(this.tiles.face, this.parts.face, 0, this.pos.x, this.pos.y, ctx);\n    graphics.drawTile(this.tiles.frontHair, this.parts.frontHair, 0, this.pos.x, this.pos.y, ctx);\n  }\n\n  jump() {\n    console.log(this.pos, this.velocity);\n    if (this.velocity.y === 0) {\n      this.velocity.y = -0.24;\n    }\n  }\n\n  setRandomPart(partName) {\n    this.parts[partName] = Math.floor((Math.random() * this.tiles[partName].tileColumns));\n  }\n\n  setNextPart(partName) {\n    this.parts[partName] = (this.parts[partName] + 1) % this.tiles[partName].tileColumns;\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./character.js\n **/","export default class Timer {\n  constructor(game, timeStep) {\n    this.runTime = 0;\n    this.ticks = 0;\n    this.started = false;\n    this.timeStep = timeStep;\n    this.game = game;\n  }\n\n  start() {\n    if (this.started === false) {\n      this.started = true;\n      this.currentTime = Date.now()\n      this.game.init();\n    }\n    requestAnimationFrame(this.start.bind(this));\n    let newTime = Date.now();\n    let frameTime = newTime - this.currentTime;\n    this.currentTime = newTime;\n    while (frameTime > 0) {\n      var delta = Math.min(frameTime, this.timeStep);\n      frameTime -= delta;\n      this.runTime += delta;\n      this.game.update({delta, ticks: this.ticks, runTime: this.runTime});\n    }\n    this.ticks++;\n    this.game.render();\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./timer.js\n **/","export default class Map {\n  constructor(tiles, mapstring) {\n    this.tiles = tiles;\n    this.stage = mapstring.split('');\n    this.x = 0;\n  }\n  update(time) {\n    this.x -= time.delta * 0.1;\n  }\n  whatsHere(offset) {\n    let heights = [-100, 10, 29, 45];\n    let index = Math.floor((-this.x + offset) / this.tiles.mapTiles.tileWidth);\n    let tile = this.stage[index];\n    return {height: heights[tile]};\n  }\n  render(graphics, ctx) {\n    const y = [128, 112, 96, 80, 68];\n    const GROUND = 0;\n    const COLUMN_ROOT = 1;\n    const COLUMN_MID = 2;\n    const COLUMN_TOP = 3;\n    this.stage.forEach((t, index) => {\n      let x = this.x + this.tiles.mapTiles.tileWidth * index;\n      switch(t) {\n      case '0':\n        break;\n      case '1':\n        graphics.drawTile(this.tiles.mapTiles, GROUND, 0, x, y[0], ctx);\n        break;\n      case '2':\n        graphics.drawTile(this.tiles.mapTiles, COLUMN_ROOT, 0, x, y[0], ctx);\n        graphics.drawTile(this.tiles.mapTiles, COLUMN_TOP, 0, x, y[1], ctx);\n        break;\n      case '3':\n        graphics.drawTile(this.tiles.mapTiles, COLUMN_ROOT, 0, x, y[0], ctx);\n        graphics.drawTile(this.tiles.mapTiles, COLUMN_MID, 0, x, y[1], ctx);\n        graphics.drawTile(this.tiles.mapTiles, COLUMN_TOP, 0, x, y[2], ctx);\n        break;\n      }\n    })\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./map.js\n **/"],"sourceRoot":""}